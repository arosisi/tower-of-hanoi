{"version":3,"sources":["components/actions/Info.js","components/actions/ReportBug.js","components/actions/Share.js","components/actions/Actions.js","constants.js","helpers.js","components/Disk.js","components/GameOver.js","components/Leaderboard.js","components/Likes.js","components/Timer.js","components/Controller.js","components/Initializer.js","App.js","serviceWorker.js","index.js"],"names":["Info","state","open","showInfo","this","props","classes","onClose","Dialog","DialogTitle","DialogContent","className","content","href","target","rel","React","Component","withStyles","marginTop","marginBottom","ReportBug","verified","submitting","status","handleSubmit","form","data","FormData","get","setState","xhr","XMLHttpRequest","method","action","setRequestHeader","onreadystatechange","readyState","DONE","send","windowWidth","root","onSubmit","initialValues","description","handleChange","values","ref","element","noValidate","autoComplete","privateInfo","form_endpoint","TextField","fullWidth","multiline","rowsMax","name","label","helperText","autoFocus","value","onChange","event","disabled","size","style","opacity","pointerEvents","sitekey","captcha_sitekey","onExpired","submit","submitted","CircularProgress","Button","color","type","error","textAlign","minWidth","margin","Share","FacebookShareButton","button","url","FacebookIcon","round","TwitterShareButton","title","hashtags","TwitterIcon","WhatsappShareButton","WhatsappIcon","LinkedinShareButton","LinkedinIcon","RedditShareButton","marginRight","RedditIcon","outline","Actions","showShare","showReportBug","enableScroll","disableTouchMove","show","SpeedDial","ariaLabel","actions","icon","SpeedDialIcon","onOpen","direction","SpeedDialAction","tooltipTitle","tooltipPlacement","onClick","position","top","left","constants","formatTime","millisecs","duration","moment","Math","floor","asHours","utc","asMilliseconds","format","take","array","n","length","slice","get1ToN","result","i","push","getLast","getUpToSecondLast","getMeasurements","BASE_WIDTH","BASE_HEIGHT","multiplier","ceil","solve","numDisks","initCol1","initCol2","initCol3","col1","col2","col3","steps","moveDisk","fromCol","toCol","pop","moveDisks","maxSize","a","includes","JSON","stringify","Disk","active","xy","startMove","endDrag","move","endMove","windowHeight","divWidth","isTiming","startTimer","width","height","useState","dragging","setDragging","zIndex","setZIndex","useSpring","x","y","onRest","setPosition","useEffect","myRef","useRef","bind","useGesture","onDragStart","preventDefault","onDrag","onDragEnd","colNum","domTarget","eventOptions","passive","div","borderRadius","background","cursor","display","justifyContent","alignSelf","GameOver","fetching","highScores","showError","getCongratsMessage","time","renderTimeSubmitForm","timeStamp","fetch","high_score_api_endpoint","headers","high_score_api_key","body","then","response","json","_id","console","log","catch","Array","isArray","filter","highScore","sort","_id1","time1","timeStamp1","_id2","time2","timeStamp2","isBefore","flexDirection","DISK_COLORS","Leaderboard","takeFive","truncated","forEach","filtered","numDisks1","numDisks2","TableContainer","table","Table","stickyHeader","TableHead","TableRow","TableCell","align","TableBody","map","key","highlighted","component","scope","maxHeight","Likes","numLikes","updatingLikes","liked","likeId","updateLikes","like_api_endpoint","like_api_key","counter","IconButton","fontSize","right","alignItems","Timer","handler","start","prevProps","running","setInterval","now","diff","clearInterval","recordTime","warning","GROUND_HEIGHT","Controller","reverse","movingDisk","solving","step","showLeaderboard","hasUsedSolve","showGameOver","hasSubmitted","showSubmissionSuccess","isGameOver","getIsActive","getPosition","halfDivWidth","diskWidth","getY","col","newFromCol","newToCol","newCol1","newCol2","newCol3","parse","stop","restart","controlButtons","leaderboardButton","timer","Snackbar","success","message","maxNumDisks","Initializer","parseInt","setNumDisks","App","window","innerWidth","innerHeight","initializing","test","navigator","userAgent","removeEventListener","addEventListener","preventZoom","scale","colWidth","colHeight","bufferHeight","columns","borderRight","userSelect","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","document","getElementById","URL","process","origin","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.fea6aa1f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst styles = {\r\n  content: {\r\n    marginTop: -20,\r\n    marginBottom: 20\r\n  }\r\n};\r\n\r\nclass Info extends React.Component {\r\n  state = { open: false, showInfo: false };\r\n\r\n  render() {\r\n    const { classes, onClose } = this.props;\r\n    return (\r\n      <Dialog open={true} onClose={onClose}>\r\n        <DialogTitle>About the game</DialogTitle>\r\n        <DialogContent className={classes.content}>\r\n          <ul>\r\n            <li>\r\n              The objective is to move the stack of disks from the left column\r\n              to either of the other two columns.\r\n            </li>\r\n            <li>\r\n              Drag and drop a disk to move it. You can only move one disk at a\r\n              time and it must be the disk on top.\r\n            </li>\r\n            <li>Larger disks cannot be placed on top of smaller disks.</li>\r\n          </ul>\r\n          <p>\r\n            Read more about the game{\" \"}\r\n            <a\r\n              href='https://en.wikipedia.org/wiki/Tower_of_Hanoi'\r\n              target='_blank'\r\n              rel='noopener noreferrer'\r\n            >\r\n              here\r\n            </a>\r\n            .\r\n          </p>\r\n        </DialogContent>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Info);\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Formik } from \"formik\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport privateInfo from \"../../privateInfo\";\r\n\r\nconst styles = {\r\n  content: {\r\n    marginBottom: 20,\r\n    textAlign: \"center\"\r\n  },\r\n  description: {\r\n    minWidth: \"25ch\",\r\n    marginBottom: 10\r\n  },\r\n  submit: {\r\n    marginTop: 10\r\n  },\r\n  submitted: {\r\n    marginBottom: 10\r\n  },\r\n  error: {\r\n    margin: 0,\r\n    color: \"#f44336\"\r\n  }\r\n};\r\n\r\nclass ReportBug extends React.Component {\r\n  state = {\r\n    verified: false,\r\n    submitting: false,\r\n    status: \"\"\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    const form = this.form;\r\n    const data = new FormData(form);\r\n    const description = data.get(\"description\");\r\n\r\n    if (description) {\r\n      this.setState({ submitting: true }, () => {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open(form.method, form.action);\r\n        xhr.setRequestHeader(\"Accept\", \"application/json\");\r\n        xhr.onreadystatechange = () => {\r\n          if (xhr.readyState !== XMLHttpRequest.DONE) return;\r\n          if (xhr.status === 200) {\r\n            this.setState({ submitting: false, status: \"SUCCESS\" });\r\n          } else {\r\n            this.setState({ submitting: false, status: \"ERROR\" });\r\n          }\r\n        };\r\n        xhr.send(data);\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, windowWidth, onClose } = this.props;\r\n    const { verified, submitting, status } = this.state;\r\n    return (\r\n      <Dialog className={classes.root} open={true} onClose={onClose}>\r\n        <DialogTitle>Report a bug</DialogTitle>\r\n        <DialogContent className={classes.content}>\r\n          <Formik\r\n            onSubmit={this.handleSubmit}\r\n            initialValues={{ description: \"\" }}\r\n          >\r\n            {({ handleSubmit, handleChange, values }) => (\r\n              <form\r\n                ref={element => {\r\n                  this.form = element;\r\n                }}\r\n                noValidate\r\n                autoComplete='off'\r\n                onSubmit={handleSubmit}\r\n                action={privateInfo.form_endpoint}\r\n                method='POST'\r\n              >\r\n                <TextField\r\n                  className={classes.description}\r\n                  fullWidth\r\n                  multiline\r\n                  rowsMax={6}\r\n                  name='description'\r\n                  label='Description'\r\n                  helperText='Describe the bug to report'\r\n                  autoFocus={true}\r\n                  value={values.description}\r\n                  onChange={event => {\r\n                    this.setState({ status: \"\" });\r\n                    handleChange(event);\r\n                  }}\r\n                  disabled={status === \"SUCCESS\"}\r\n                />\r\n\r\n                <ReCAPTCHA\r\n                  size={windowWidth < 416 ? \"compact\" : \"normal\"}\r\n                  style={{\r\n                    ...(status === \"SUCCESS\"\r\n                      ? { opacity: 0.65, pointerEvents: \"none\" }\r\n                      : null)\r\n                  }}\r\n                  sitekey={privateInfo.captcha_sitekey}\r\n                  onChange={() => this.setState({ verified: true })}\r\n                  onExpired={() => this.setState({ verified: false })}\r\n                />\r\n\r\n                <div className={classes.submit}>\r\n                  {status === \"SUCCESS\" ? (\r\n                    <p className={classes.submitted}>Submitted!</p>\r\n                  ) : submitting ? (\r\n                    <CircularProgress />\r\n                  ) : (\r\n                    <Button\r\n                      color='primary'\r\n                      type='submit'\r\n                      disabled={!values.description || !verified}\r\n                    >\r\n                      Submit\r\n                    </Button>\r\n                  )}\r\n                  {status === \"ERROR\" && (\r\n                    <p className={classes.error}>Ooops! There was an error.</p>\r\n                  )}\r\n                </div>\r\n              </form>\r\n            )}\r\n          </Formik>\r\n        </DialogContent>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(ReportBug);\r\n","import React from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport {\r\n  FacebookIcon,\r\n  FacebookShareButton,\r\n  TwitterIcon,\r\n  TwitterShareButton,\r\n  WhatsappIcon,\r\n  WhatsappShareButton,\r\n  LinkedinIcon,\r\n  LinkedinShareButton,\r\n  RedditIcon,\r\n  RedditShareButton\r\n} from \"react-share\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst styles = {\r\n  content: {\r\n    marginBottom: 20,\r\n    \"& > *\": {\r\n      marginRight: 5\r\n    }\r\n  },\r\n  button: {\r\n    outline: \"none\"\r\n  }\r\n};\r\n\r\nclass Share extends React.Component {\r\n  render() {\r\n    const { classes, onClose } = this.props;\r\n    return (\r\n      <Dialog open={true} onClose={onClose}>\r\n        <DialogTitle>Share</DialogTitle>\r\n        <DialogContent className={classes.content}>\r\n          <FacebookShareButton\r\n            className={classes.button}\r\n            url='https://arosisi.github.io/tower-of-hanoi'\r\n          >\r\n            <FacebookIcon size={32} round />\r\n          </FacebookShareButton>\r\n\r\n          <TwitterShareButton\r\n            className={classes.button}\r\n            url='https://arosisi.github.io/tower-of-hanoi'\r\n            title='Tower of Hanoi'\r\n            hashtags={[\"game\", \"puzzle\", \"brainteaser\", \"towerofhanoi\"]}\r\n          >\r\n            <TwitterIcon size={32} round />\r\n          </TwitterShareButton>\r\n\r\n          <WhatsappShareButton\r\n            className={classes.button}\r\n            url='https://arosisi.github.io/tower-of-hanoi'\r\n            title='Tower of Hanoi'\r\n          >\r\n            <WhatsappIcon size={32} round />\r\n          </WhatsappShareButton>\r\n\r\n          <LinkedinShareButton\r\n            className={classes.button}\r\n            url='https://arosisi.github.io/tower-of-hanoi'\r\n          >\r\n            <LinkedinIcon size={32} round />\r\n          </LinkedinShareButton>\r\n\r\n          <RedditShareButton\r\n            className={classes.button}\r\n            style={{ marginRight: 0 }}\r\n            url='https://arosisi.github.io/tower-of-hanoi'\r\n            title='Tower of Hanoi'\r\n          >\r\n            <RedditIcon size={32} round />\r\n          </RedditShareButton>\r\n        </DialogContent>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Share);\r\n","import React from \"react\";\r\nimport BugReportIcon from \"@material-ui/icons/BugReportOutlined\";\r\nimport InfoIcon from \"@material-ui/icons/InfoOutlined\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport SpeedDial from \"@material-ui/lab/SpeedDial\";\r\nimport SpeedDialIcon from \"@material-ui/lab/SpeedDialIcon\";\r\nimport SpeedDialAction from \"@material-ui/lab/SpeedDialAction\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Info from \"./Info\";\r\nimport ReportBug from \"./ReportBug\";\r\nimport Share from \"./Share\";\r\n\r\nconst styles = {\r\n  actions: {\r\n    position: \"absolute\",\r\n    top: 15,\r\n    left: 15\r\n  }\r\n};\r\n\r\nclass Actions extends React.Component {\r\n  state = {\r\n    open: false,\r\n    showShare: false,\r\n    showInfo: false,\r\n    showReportBug: false\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      windowWidth,\r\n      enableScroll,\r\n      disableTouchMove,\r\n      show\r\n    } = this.props;\r\n    const { open, showShare, showInfo, showReportBug } = this.state;\r\n    return (\r\n      <div>\r\n        <SpeedDial\r\n          ariaLabel='Actions'\r\n          className={classes.actions}\r\n          icon={<SpeedDialIcon />}\r\n          onClose={() => this.setState({ open: false })}\r\n          onOpen={() => this.setState({ open: true })}\r\n          open={open}\r\n          direction='down'\r\n        >\r\n          <SpeedDialAction\r\n            icon={<ShareIcon />}\r\n            tooltipTitle={\"Share\"}\r\n            tooltipPlacement='right'\r\n            onClick={() => {\r\n              show();\r\n              this.setState({ open: false, showShare: true });\r\n            }}\r\n          />\r\n          <SpeedDialAction\r\n            icon={<InfoIcon />}\r\n            tooltipTitle={\"Info\"}\r\n            tooltipPlacement='right'\r\n            onClick={() => {\r\n              show();\r\n              this.setState({ open: false, showInfo: true });\r\n            }}\r\n          />\r\n          <SpeedDialAction\r\n            icon={<BugReportIcon />}\r\n            tooltipTitle={\"Report Bug\"}\r\n            tooltipPlacement='right'\r\n            onClick={() => {\r\n              enableScroll();\r\n              show();\r\n              this.setState({ open: false, showReportBug: true });\r\n            }}\r\n          />\r\n        </SpeedDial>\r\n\r\n        {showShare && (\r\n          <Share onClose={() => this.setState({ showShare: false })} />\r\n        )}\r\n        {showInfo && (\r\n          <Info onClose={() => this.setState({ showInfo: false })} />\r\n        )}\r\n        {showReportBug && (\r\n          <ReportBug\r\n            windowWidth={windowWidth}\r\n            onClose={() => {\r\n              disableTouchMove();\r\n              this.setState({ showReportBug: false });\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Actions);\r\n","export const constants = {\r\n  BASE_WIDTH: 50,\r\n  BASE_HEIGHT: 20,\r\n  GROUND_HEIGHT: 150,\r\n  DISK_COLORS: [\r\n    \"#448098\",\r\n    \"#e2c1b9\",\r\n    \"#da344d\",\r\n    \"#d7bc3e\",\r\n    \"#2faa77\",\r\n    \"#e37e8c\",\r\n    \"#57a9d4\",\r\n    \"#a08986\"\r\n  ]\r\n};\r\n","import moment from \"moment\";\r\n\r\nimport { constants } from \"./constants\";\r\n\r\nexport const formatTime = millisecs => {\r\n  const duration = moment.duration(millisecs);\r\n  return (\r\n    Math.floor(duration.asHours()) +\r\n    moment.utc(duration.asMilliseconds()).format(\":mm:ss:SSS\")\r\n  );\r\n};\r\n\r\nexport const take = (array, n) => {\r\n  if (array.length <= n) {\r\n    return array;\r\n  }\r\n  return array.slice(0, n);\r\n};\r\n\r\nexport const get1ToN = n => {\r\n  const result = [];\r\n  for (let i = 1; i <= n; i++) {\r\n    result.push(i);\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const getLast = array => array[array.length - 1];\r\n\r\nexport const getUpToSecondLast = array => array.slice(0, array.length - 1);\r\n\r\nexport const getMeasurements = size => {\r\n  const { BASE_WIDTH, BASE_HEIGHT } = constants;\r\n  const multiplier = size * 0.3 + 0.7;\r\n  return [Math.ceil(BASE_WIDTH * multiplier), BASE_HEIGHT];\r\n};\r\n\r\nexport const solve = (numDisks, initCol1, initCol2, initCol3) => {\r\n  let col1 = [...initCol1];\r\n  let col2 = [...initCol2];\r\n  let col3 = [...initCol3];\r\n\r\n  let steps = \"\";\r\n\r\n  const moveDisk = (fromCol, toCol, size) => {\r\n    if (fromCol === col1) {\r\n      col1.pop();\r\n    } else if (fromCol === col2) {\r\n      col2.pop();\r\n    } else {\r\n      col3.pop();\r\n    }\r\n\r\n    if (toCol === col1) {\r\n      col1.push(size);\r\n    } else if (toCol === col2) {\r\n      col2.push(size);\r\n    } else {\r\n      col3.push(size);\r\n    }\r\n  };\r\n\r\n  // algorithm from\r\n  // https://stackoverflow.com/questions/49220476/tower-of-hanoi-solving-halfway-algorithm-in-python\r\n  const moveDisks = async (maxSize, toCol) => {\r\n    let fromCol;\r\n    let size = maxSize;\r\n    while (size >= 1) {\r\n      if (col1 !== toCol && col1.includes(size)) {\r\n        fromCol = col1;\r\n        break;\r\n      }\r\n      if (col2 !== toCol && col2.includes(size)) {\r\n        fromCol = col2;\r\n        break;\r\n      }\r\n      if (col3 !== toCol && col3.includes(size)) {\r\n        fromCol = col3;\r\n        break;\r\n      }\r\n      size--;\r\n    }\r\n\r\n    // all disks are already in the to-column\r\n    if (size === 0) {\r\n      return;\r\n    }\r\n\r\n    const otherCol =\r\n      col1 !== fromCol && col1 !== toCol\r\n        ? col1\r\n        : col2 !== fromCol && col2 !== toCol\r\n        ? col2\r\n        : col3;\r\n\r\n    moveDisks(size - 1, otherCol);\r\n\r\n    moveDisk(fromCol, toCol, size);\r\n    steps += `${JSON.stringify({ col1, col2, col3 })},`;\r\n\r\n    moveDisks(size - 1, toCol);\r\n  };\r\n\r\n  moveDisks(numDisks, col2);\r\n\r\n  return `[${steps.slice(0, -1)}]`;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport { useGesture } from \"react-use-gesture\";\r\n\r\nimport { getMeasurements } from \"../helpers\";\r\n\r\nfunction Disk(props) {\r\n  const {\r\n    active,\r\n    xy,\r\n    startMove,\r\n    endDrag,\r\n    move,\r\n    endMove,\r\n    size,\r\n    color,\r\n    windowWidth,\r\n    windowHeight,\r\n    divWidth,\r\n    isTiming,\r\n    startTimer\r\n  } = props;\r\n  const [width, height] = getMeasurements(size);\r\n\r\n  // is the disk being dragged\r\n  const [dragging, setDragging] = useState(false);\r\n\r\n  // z-index to put moving disk in front\r\n  const [zIndex, setZIndex] = useState(1);\r\n\r\n  // spring to smoothen drag\r\n  const [{ x, y }, setPosition] = useSpring(\r\n    () => ({\r\n      x: xy[0],\r\n      y: xy[1],\r\n      onRest() {\r\n        if (!dragging) endMove();\r\n      }\r\n    }),\r\n    [dragging, endMove]\r\n  );\r\n\r\n  // move disks via props.xy\r\n  useEffect(() => {\r\n    setPosition({ x: props.xy[0], y: props.xy[1] });\r\n  }, [setPosition, props.xy]);\r\n\r\n  const myRef = React.useRef(null);\r\n\r\n  const bind = useGesture(\r\n    {\r\n      onDragStart: ({ event }) => {\r\n        event.preventDefault();\r\n        if (active) {\r\n          startMove();\r\n          setDragging(true);\r\n          if (!isTiming) {\r\n            startTimer();\r\n          }\r\n        }\r\n      },\r\n      onDrag: ({ event, xy: [x, y] }) => {\r\n        event.preventDefault();\r\n        if (active) {\r\n          const effectiveX =\r\n            x > windowWidth - width / 2 ? windowWidth - width / 2 : x;\r\n          const effectiveY =\r\n            y > windowHeight - height ? windowHeight - height : y;\r\n          setPosition({\r\n            x: effectiveX - width / 2,\r\n            y: effectiveY - height / 2\r\n          });\r\n          if (zIndex !== 99) {\r\n            setZIndex(99);\r\n          }\r\n        }\r\n      },\r\n      onDragEnd: ({ event, xy: [x, y] }) => {\r\n        event.preventDefault();\r\n        if (active) {\r\n          const colNum = x <= divWidth ? 1 : x <= 2 * divWidth ? 2 : 3;\r\n          endDrag();\r\n          setDragging(false);\r\n          setZIndex(1);\r\n          move(colNum, size);\r\n        }\r\n      }\r\n    },\r\n    {\r\n      domTarget: myRef,\r\n      eventOptions: { passive: false }\r\n    }\r\n  );\r\n\r\n  React.useEffect(bind, [bind]);\r\n\r\n  return (\r\n    <animated.div\r\n      ref={myRef}\r\n      {...bind()}\r\n      style={{\r\n        position: \"absolute\",\r\n        x,\r\n        y,\r\n        zIndex,\r\n        width,\r\n        height,\r\n        borderRadius: \"20px\",\r\n        background: color,\r\n        cursor: active ? \"grab\" : \"default\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\"\r\n      }}\r\n    >\r\n      <span style={{ alignSelf: \"center\" }}>{size}</span>\r\n    </animated.div>\r\n  );\r\n}\r\n\r\nexport default Disk;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport moment from \"moment\";\r\nimport { Formik } from \"formik\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { formatTime } from \"../helpers\";\r\nimport privateInfo from \"../privateInfo\";\r\n\r\nconst styles = {\r\n  root: {\r\n    textAlign: \"center\"\r\n  },\r\n  content: {\r\n    marginBottom: 20\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\"\r\n  },\r\n  submit: {\r\n    marginTop: 10\r\n  },\r\n  error: {\r\n    color: \"#f44336\"\r\n  }\r\n};\r\n\r\nclass GameOver extends React.Component {\r\n  state = {\r\n    fetching: true,\r\n    highScores: [],\r\n    submitting: false,\r\n    showError: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { numDisks, enableScroll } = this.props;\r\n    enableScroll();\r\n\r\n    fetch(privateInfo.high_score_api_endpoint, {\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n        \"x-apikey\": privateInfo.high_score_api_key,\r\n        \"cache-control\": \"no-cache\"\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (Array.isArray(response)) {\r\n          const highScores = response.filter(\r\n            highScore => highScore.numDisks === numDisks\r\n          );\r\n          this.setState({\r\n            fetching: false,\r\n            highScores: highScores.sort(\r\n              (\r\n                { _id: _id1, time: time1, timeStamp: timeStamp1 },\r\n                { _id: _id2, time: time2, timeStamp: timeStamp2 }\r\n              ) =>\r\n                time1 !== time2\r\n                  ? time1 - time2\r\n                  : timeStamp1 !== timeStamp2\r\n                  ? moment(timeStamp1).isBefore(moment(timeStamp2))\r\n                  : _id1 < _id2\r\n            )\r\n          });\r\n        } else {\r\n          this.setState({ fetching: false });\r\n          console.log(\"Failed to fetch high scores.\");\r\n        }\r\n      })\r\n      .catch(error => console.log(\"Unable to connect to API.\", error));\r\n  }\r\n\r\n  getCongratsMessage = () => {\r\n    const { numDisks, time } = this.props;\r\n    const { highScores } = this.state;\r\n    const position =\r\n      time < highScores[0].time\r\n        ? \"\"\r\n        : !highScores[1] || time < highScores[1].time\r\n        ? \"2nd\"\r\n        : !highScores[2] || time < highScores[2].time\r\n        ? \"3rd\"\r\n        : !highScores[3] || time < highScores[3].time\r\n        ? \"4th\"\r\n        : \"5th\";\r\n    return (\r\n      <div>\r\n        You have the <strong>{position}</strong>\r\n        {position ? \" \" : \"\"}best time for {numDisks} disk(s).\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderTimeSubmitForm = () => {\r\n    const { classes } = this.props;\r\n    return (\r\n      <Formik onSubmit={this.handleSubmit} initialValues={{ name: \"\" }}>\r\n        {({ handleSubmit, handleChange, values }) => (\r\n          <form className={classes.form} onSubmit={handleSubmit}>\r\n            <TextField\r\n              name='name'\r\n              label='Name'\r\n              helperText='Enter your name to display on the leaderboard'\r\n              autoFocus={true}\r\n              value={values.name}\r\n              onChange={event => {\r\n                this.setState({ showError: false });\r\n                handleChange(event);\r\n              }}\r\n            />\r\n            <Button\r\n              className={classes.submit}\r\n              color='primary'\r\n              type='submit'\r\n              disabled={!values.name}\r\n            >\r\n              Submit\r\n            </Button>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n    );\r\n  };\r\n\r\n  handleSubmit = ({ name }) => {\r\n    const { numDisks, time, timeStamp, onSubmit } = this.props;\r\n    this.setState({ submitting: true }, () => {\r\n      fetch(privateInfo.high_score_api_endpoint, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          \"x-apikey\": privateInfo.high_score_api_key,\r\n          \"cache-control\": \"no-cache\"\r\n        },\r\n        body: JSON.stringify({\r\n          numDisks: numDisks,\r\n          name,\r\n          time,\r\n          timeStamp\r\n        })\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          if (response._id) {\r\n            this.setState({\r\n              submitting: false\r\n            });\r\n            onSubmit();\r\n          } else {\r\n            this.setState({ submitting: false, showError: true });\r\n            console.log(\"Failed to update high scores.\");\r\n          }\r\n        })\r\n        .catch(error => console.log(\"Unable to connect to API.\", error));\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes, numDisks, time, onClose } = this.props;\r\n    const { fetching, highScores, submitting, showError } = this.state;\r\n    return (\r\n      <div>\r\n        <Dialog className={classes.root} open={true} onClose={onClose}>\r\n          <DialogTitle>Your time is {formatTime(time)}!</DialogTitle>\r\n          <DialogContent className={classes.content}>\r\n            {fetching ? (\r\n              <CircularProgress />\r\n            ) : highScores.length ? (\r\n              highScores.length < 5 || time < highScores[4].time ? (\r\n                <div>\r\n                  {this.getCongratsMessage()}\r\n                  <br />\r\n                  {submitting ? (\r\n                    <CircularProgress />\r\n                  ) : (\r\n                    this.renderTimeSubmitForm()\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <div>\r\n                    You haven't beaten the 5th best time of{\" \"}\r\n                    <strong>{highScores[4].name}</strong> of{\" \"}\r\n                    <strong>{formatTime(highScores[4].time)}</strong> for{\" \"}\r\n                    {numDisks} disk(s).\r\n                  </div>\r\n                  <p>Try again!</p>\r\n                </div>\r\n              )\r\n            ) : (\r\n              <div>\r\n                <div>There is no best time for now for {numDisks} disk(s).</div>\r\n                <br />\r\n                {submitting ? (\r\n                  <CircularProgress />\r\n                ) : (\r\n                  this.renderTimeSubmitForm()\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {showError && (\r\n              <p className={classes.error}>\r\n                Something went wrong. Try again later.\r\n              </p>\r\n            )}\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(GameOver);\r\n","import React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport moment from \"moment\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { get1ToN, take, formatTime } from \"../helpers\";\r\nimport { constants } from \"../constants\";\r\nimport privateInfo from \"../privateInfo\";\r\n\r\nconst { DISK_COLORS } = constants;\r\n\r\nconst styles = {\r\n  root: {\r\n    textAlign: \"center\"\r\n  },\r\n  content: {\r\n    marginBottom: 20\r\n  },\r\n  table: {\r\n    width: \"fit-content\",\r\n    maxHeight: 400\r\n  },\r\n  highlighted: {\r\n    background: \"rgba(0, 0, 0, 0.04)\"\r\n  },\r\n  error: {\r\n    color: \"#f44336\"\r\n  }\r\n};\r\n\r\nclass Leaderboard extends React.Component {\r\n  state = { fetching: true, highScores: [], showError: false };\r\n\r\n  componentDidMount() {\r\n    fetch(privateInfo.high_score_api_endpoint, {\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n        \"x-apikey\": privateInfo.high_score_api_key,\r\n        \"cache-control\": \"no-cache\"\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (Array.isArray(response)) {\r\n          this.setState({\r\n            fetching: false,\r\n            highScores: this.takeFive(\r\n              response.sort(\r\n                (\r\n                  {\r\n                    _id: _id1,\r\n                    numDisks: numDisks1,\r\n                    time: time1,\r\n                    timeStamp: timeStamp1\r\n                  },\r\n                  {\r\n                    _id: _id2,\r\n                    numDisks: numDisks2,\r\n                    time: time2,\r\n                    timeStamp: timeStamp2\r\n                  }\r\n                ) =>\r\n                  numDisks1 !== numDisks2\r\n                    ? numDisks1 - numDisks2\r\n                    : time1 !== time2\r\n                    ? time1 - time2\r\n                    : timeStamp1 !== timeStamp2\r\n                    ? moment(timeStamp1).isBefore(moment(timeStamp2))\r\n                    : _id1 < _id2\r\n              )\r\n            )\r\n          });\r\n        } else {\r\n          this.setState({ fetching: false, showError: true });\r\n          console.log(\"Failed to fetch high scores.\");\r\n        }\r\n      })\r\n      .catch(error => console.log(\"Unable to connect to API.\", error));\r\n  }\r\n\r\n  takeFive = highScores => {\r\n    const truncated = [];\r\n    get1ToN(DISK_COLORS.length).forEach(numDisks => {\r\n      const filtered = highScores.filter(\r\n        highScore => highScore.numDisks === numDisks\r\n      );\r\n      if (filtered.length) {\r\n        truncated.push(...take(filtered, 5));\r\n      }\r\n    });\r\n    return truncated;\r\n  };\r\n\r\n  render() {\r\n    const { classes, onClose } = this.props;\r\n    const { fetching, highScores, showError } = this.state;\r\n    return (\r\n      <Dialog className={classes.root} open={true} onClose={onClose}>\r\n        <DialogTitle>Leaderboard</DialogTitle>\r\n        <DialogContent className={classes.content}>\r\n          {fetching ? (\r\n            <CircularProgress />\r\n          ) : highScores.length ? (\r\n            <TableContainer className={classes.table}>\r\n              <Table stickyHeader size='small'>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>No. Disks</TableCell>\r\n                    <TableCell align='right'>Name</TableCell>\r\n                    <TableCell align='right'>Time</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {highScores.map(highScore => {\r\n                    const { _id, numDisks, name, time } = highScore;\r\n                    return (\r\n                      <TableRow\r\n                        key={_id}\r\n                        className={\r\n                          numDisks % 2 === 1 ? classes.highlighted : \"\"\r\n                        }\r\n                      >\r\n                        <TableCell component='th' scope='row'>\r\n                          {numDisks}\r\n                        </TableCell>\r\n                        <TableCell align='right'>{name}</TableCell>\r\n                        <TableCell align='right'>{formatTime(time)}</TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          ) : (\r\n            !showError && \"There is no best time for now.\"\r\n          )}\r\n\r\n          {showError && (\r\n            <div className={classes.error}>\r\n              Something went wrong. Try again later.\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Leaderboard);\r\n","import React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport LikedIcon from \"@material-ui/icons/Favorite\";\r\nimport UnlikedIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport moment from \"moment\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport privateInfo from \"../privateInfo\";\r\n\r\nconst styles = {\r\n  root: {\r\n    position: \"absolute\",\r\n    top: 30,\r\n    right: 30,\r\n    zIndex: 1\r\n  },\r\n  counter: {\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  }\r\n};\r\n\r\nclass Likes extends React.Component {\r\n  state = {\r\n    timeStamp: moment(),\r\n    numLikes: null,\r\n    updatingLikes: false,\r\n    liked: false,\r\n    likeId: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch(privateInfo.like_api_endpoint, {\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n        \"x-apikey\": privateInfo.like_api_key,\r\n        \"cache-control\": \"no-cache\"\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (Array.isArray(response)) {\r\n          this.setState({ numLikes: response.length });\r\n        } else {\r\n          console.log(\"Failed to fetch likes.\");\r\n        }\r\n      })\r\n      .catch(error => console.log(\"Unable to connect to API.\", error));\r\n  }\r\n\r\n  updateLikes = () => {\r\n    const { timeStamp, numLikes, liked } = this.state;\r\n\r\n    this.setState({ updatingLikes: true });\r\n\r\n    if (!liked) {\r\n      fetch(privateInfo.like_api_endpoint, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          \"x-apikey\": privateInfo.like_api_key,\r\n          \"cache-control\": \"no-cache\"\r\n        },\r\n        body: JSON.stringify({ timeStamp })\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          if (response._id) {\r\n            this.setState({\r\n              numLikes: numLikes + 1,\r\n              updatingLikes: false,\r\n              liked: true,\r\n              likeId: response._id\r\n            });\r\n          } else {\r\n            console.log(\"Failed to add like.\");\r\n          }\r\n        })\r\n        .catch(error => console.log(\"Unable to connect to API.\", error));\r\n    } else {\r\n      fetch(`${privateInfo.like_api_endpoint}/${this.state.likeId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          \"x-apikey\": privateInfo.like_api_key,\r\n          \"cache-control\": \"no-cache\"\r\n        }\r\n      })\r\n        .then(response => response.json())\r\n        .then(({ result }) => {\r\n          if (Array.isArray(result) && result.length) {\r\n            this.setState({\r\n              numLikes: numLikes - 1,\r\n              updatingLikes: false,\r\n              liked: false,\r\n              likeId: null\r\n            });\r\n          } else {\r\n            console.log(\"Failed to remove like.\");\r\n          }\r\n        })\r\n        .catch(error => console.log(\"Unable to connect to API.\", error));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { numLikes, updatingLikes, liked } = this.state;\r\n    return (\r\n      <div className={classes.root}>\r\n        {numLikes !== null ? (\r\n          <div className={classes.counter}>\r\n            {numLikes}\r\n            <IconButton size='small' onClick={this.updateLikes}>\r\n              {updatingLikes ? (\r\n                <CircularProgress color='secondary' size={20} />\r\n              ) : liked ? (\r\n                <LikedIcon color='secondary' fontSize='small' />\r\n              ) : (\r\n                <UnlikedIcon color='secondary' fontSize='small' />\r\n              )}\r\n            </IconButton>\r\n          </div>\r\n        ) : (\r\n          <CircularProgress color='secondary' size={24} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Likes);\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { formatTime } from \"../helpers\";\r\n\r\nconst styles = {\r\n  time: {\r\n    width: \"fit-content\",\r\n    margin: \"auto\",\r\n    cursor: \"pointer\"\r\n  },\r\n  warning: {\r\n    marginTop: 10\r\n  }\r\n};\r\n\r\nclass Timer extends React.Component {\r\n  state = { handler: null, start: null, millisecs: 0, timeStamp: null };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.running && this.props.running) {\r\n      const handler = setInterval(() => {\r\n        const now = moment();\r\n        const start = this.state.start || now;\r\n        const millisecs = now.diff(start);\r\n        this.setState({ start, millisecs });\r\n      }, 10);\r\n      this.setState({ handler });\r\n    }\r\n\r\n    if (prevProps.running && !this.props.running) {\r\n      const { handler } = this.state;\r\n      clearInterval(handler);\r\n\r\n      const timeStamp = moment();\r\n\r\n      this.setState({ timeStamp });\r\n\r\n      if (!prevProps.disabled && !this.props.disabled) {\r\n        this.props.recordTime(this.state.millisecs, timeStamp);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { handler } = this.state;\r\n    clearInterval(handler);\r\n  }\r\n\r\n  render() {\r\n    const { classes, disabled, recordTime } = this.props;\r\n    const { millisecs, timeStamp } = this.state;\r\n    return (\r\n      <div style={{ color: disabled ? \"#f44336\" : \"inherit\" }}>\r\n        <div\r\n          className={classes.time}\r\n          onClick={() => recordTime(millisecs, timeStamp)}\r\n        >\r\n          {formatTime(millisecs)}\r\n        </div>\r\n        {disabled && (\r\n          <div className={classes.warning}>Time is now invalid!</div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Timer);\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Confetti from \"react-confetti\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Actions from \"./actions/Actions\";\r\nimport Disk from \"./Disk\";\r\nimport GameOver from \"./GameOver\";\r\nimport Leaderboard from \"./Leaderboard\";\r\nimport Likes from \"./Likes\";\r\nimport Timer from \"./Timer\";\r\nimport {\r\n  get1ToN,\r\n  getLast,\r\n  getUpToSecondLast,\r\n  getMeasurements,\r\n  solve\r\n} from \"../helpers\";\r\nimport { constants } from \"../constants\";\r\n\r\nconst { GROUND_HEIGHT, DISK_COLORS } = constants;\r\n\r\nconst styles = {\r\n  controlButtons: {\r\n    position: \"absolute\",\r\n    top: 30,\r\n    left: 0,\r\n    right: 0,\r\n    display: \"flex\",\r\n    justifyContent: \"center\"\r\n  },\r\n  leaderboardButton: {\r\n    position: \"absolute\",\r\n    top: 70,\r\n    left: 0,\r\n    right: 0\r\n  },\r\n  timer: {\r\n    position: \"absolute\",\r\n    top: 110,\r\n    left: 0,\r\n    right: 0\r\n  },\r\n  success: {\r\n    width: \"fit-content\",\r\n    margin: \"auto\"\r\n  }\r\n};\r\n\r\nclass Controller extends React.Component {\r\n  state = {\r\n    col1: get1ToN(this.props.numDisks).reverse(),\r\n    col2: [],\r\n    col3: [],\r\n    dragging: false,\r\n    movingDisk: null,\r\n    solving: false,\r\n    handler: null,\r\n    step: 0,\r\n    showLeaderboard: false,\r\n    isTiming: false,\r\n    time: null,\r\n    timeStamp: null,\r\n    hasUsedSolve: false,\r\n    showGameOver: false,\r\n    hasSubmitted: false,\r\n    showSubmissionSuccess: false\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    const { handler } = this.state;\r\n    if (handler) {\r\n      clearInterval(handler);\r\n    }\r\n  }\r\n\r\n  isGameOver = () => {\r\n    const { numDisks } = this.props;\r\n    const { col2, col3, movingDisk } = this.state;\r\n    return (\r\n      !movingDisk && (col2.length === numDisks || col3.length === numDisks)\r\n    );\r\n  };\r\n\r\n  getIsActive = size => {\r\n    const { col1, col2, col3, dragging, movingDisk, solving } = this.state;\r\n    return (\r\n      (!dragging || !movingDisk || movingDisk === size) &&\r\n      !solving &&\r\n      !this.isGameOver() &&\r\n      (getLast(col1) === size ||\r\n        getLast(col2) === size ||\r\n        getLast(col3) === size)\r\n    );\r\n  };\r\n\r\n  getPosition = size => {\r\n    const { windowWidth } = this.props;\r\n    const { col1, col2, col3 } = this.state;\r\n    const halfDivWidth = windowWidth / 6;\r\n    const diskWidth = getMeasurements(size)[0];\r\n    if (col1.includes(size)) {\r\n      const x = halfDivWidth - diskWidth / 2;\r\n      const y = this.getY(col1, size);\r\n      return [x, y];\r\n    }\r\n\r\n    if (col2.includes(size)) {\r\n      const x = halfDivWidth * 3 - diskWidth / 2;\r\n      const y = this.getY(col2, size);\r\n      return [x, y];\r\n    }\r\n\r\n    const x = halfDivWidth * 5 - diskWidth / 2;\r\n    const y = this.getY(col3, size);\r\n    return [x, y];\r\n  };\r\n\r\n  getY = (col, size) => {\r\n    const { windowHeight } = this.props;\r\n    const divHeight = windowHeight - GROUND_HEIGHT;\r\n    const diskHeight = getMeasurements(size)[1];\r\n    let y = divHeight - diskHeight;\r\n    let i = 0;\r\n    while (col[i] !== size) {\r\n      y -= getMeasurements(col[i])[1];\r\n      i++;\r\n    }\r\n    return y;\r\n  };\r\n\r\n  move = (colNum, size) => {\r\n    const { col1, col2, col3 } = this.state;\r\n    // prettier-ignore\r\n    const fromCol = col1.includes(size) ? col1 : col2.includes(size) ? col2 : col3;\r\n    const toCol = colNum === 1 ? col1 : colNum === 2 ? col2 : col3;\r\n\r\n    if (fromCol === toCol || size > getLast(toCol)) {\r\n      return;\r\n    }\r\n\r\n    const newFromCol = getUpToSecondLast(fromCol);\r\n    const newToCol = [...toCol, size];\r\n\r\n    // prettier-ignore\r\n    const newCol1 = col1 === fromCol ? newFromCol : col1 === toCol ? newToCol : col1\r\n    // prettier-ignore\r\n    const newCol2 = col2 === fromCol ? newFromCol : col2 === toCol ? newToCol : col2\r\n    // prettier-ignore\r\n    const newCol3 = col3 === fromCol ? newFromCol : col3 === toCol ? newToCol : col3\r\n\r\n    this.setState({\r\n      col1: newCol1,\r\n      col2: newCol2,\r\n      col3: newCol3\r\n    });\r\n  };\r\n\r\n  solve = () => {\r\n    this.setState({ isTiming: false, hasUsedSolve: true });\r\n\r\n    const { numDisks } = this.props;\r\n    const { col1, col2, col3 } = this.state;\r\n    const steps = JSON.parse(solve(numDisks, [...col1], [...col2], [...col3]));\r\n    this.setState({ solving: true, steps, step: 0 }, () => {\r\n      const handler = setInterval(() => {\r\n        const { steps, step } = this.state;\r\n        if (step < steps.length) {\r\n          this.setState({ ...steps[step], step: step + 1 });\r\n        } else {\r\n          clearInterval(handler);\r\n        }\r\n      }, 1000);\r\n      this.setState({ handler });\r\n    });\r\n  };\r\n\r\n  stop = () => {\r\n    const { handler } = this.state;\r\n    this.setState({ solving: false }, () => clearInterval(handler));\r\n  };\r\n\r\n  show = state => {\r\n    const { solving, handler } = this.state;\r\n    if (solving && !this.isGameOver()) {\r\n      this.setState({ solving: false, ...state }, () => clearInterval(handler));\r\n    } else {\r\n      this.setState({ ...state });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      numDisks,\r\n      windowWidth,\r\n      windowHeight,\r\n      enableScroll,\r\n      disableTouchMove,\r\n      restart\r\n    } = this.props;\r\n    const {\r\n      solving,\r\n      showLeaderboard,\r\n      isTiming,\r\n      time,\r\n      timeStamp,\r\n      hasUsedSolve,\r\n      showGameOver,\r\n      hasSubmitted,\r\n      showSubmissionSuccess\r\n    } = this.state;\r\n    const divWidth = windowWidth / 3;\r\n    const isGameOver = this.isGameOver();\r\n    return (\r\n      <div>\r\n        <Actions\r\n          windowWidth={windowWidth}\r\n          enableScroll={enableScroll}\r\n          disableTouchMove={disableTouchMove}\r\n          show={this.show}\r\n        />\r\n\r\n        <Likes />\r\n\r\n        <div className={classes.controlButtons}>\r\n          {!solving && (\r\n            <Button color='primary' disabled={isGameOver} onClick={this.solve}>\r\n              Solve\r\n            </Button>\r\n          )}\r\n          {solving && (\r\n            <Button color='primary' disabled={isGameOver} onClick={this.stop}>\r\n              Stop\r\n            </Button>\r\n          )}\r\n          <Button color='secondary' onClick={restart}>\r\n            Restart\r\n          </Button>\r\n        </div>\r\n\r\n        <div className={classes.leaderboardButton}>\r\n          <Button\r\n            onClick={() => {\r\n              enableScroll();\r\n              this.show({ showLeaderboard: true });\r\n            }}\r\n          >\r\n            Leaderboard\r\n          </Button>\r\n        </div>\r\n\r\n        <div className={classes.timer}>\r\n          <Timer\r\n            running={isTiming && !isGameOver}\r\n            disabled={hasUsedSolve}\r\n            recordTime={(time, timeStamp) =>\r\n              this.setState({ time, timeStamp, showGameOver: true })\r\n            }\r\n          />\r\n        </div>\r\n\r\n        {showLeaderboard && (\r\n          <Leaderboard\r\n            onClose={() => {\r\n              disableTouchMove();\r\n              this.setState({ showLeaderboard: false });\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {showGameOver && isGameOver && !hasUsedSolve && !hasSubmitted && (\r\n          <GameOver\r\n            numDisks={numDisks}\r\n            time={time}\r\n            timeStamp={timeStamp}\r\n            enableScroll={enableScroll}\r\n            onClose={() => {\r\n              disableTouchMove();\r\n              this.setState({ showGameOver: false });\r\n            }}\r\n            onSubmit={() =>\r\n              this.setState({ hasSubmitted: true, showSubmissionSuccess: true })\r\n            }\r\n          />\r\n        )}\r\n\r\n        {showSubmissionSuccess && (\r\n          <Snackbar\r\n            className={classes.success}\r\n            open={true}\r\n            message='High score submitted!'\r\n            onClose={() => this.setState({ showSubmissionSuccess: false })}\r\n          />\r\n        )}\r\n\r\n        {isGameOver && <Confetti width={windowWidth} height={windowHeight} />}\r\n\r\n        {get1ToN(numDisks).map(size => (\r\n          <Disk\r\n            key={size}\r\n            active={this.getIsActive(size)}\r\n            xy={this.getPosition(size)}\r\n            startMove={() =>\r\n              this.setState({ dragging: true, movingDisk: size })\r\n            }\r\n            endDrag={() => this.setState({ dragging: false })}\r\n            move={this.move}\r\n            endMove={() => this.setState({ movingDisk: null })}\r\n            size={size}\r\n            color={DISK_COLORS[size - 1]}\r\n            windowWidth={windowWidth}\r\n            windowHeight={windowHeight}\r\n            divWidth={divWidth}\r\n            isTiming={isTiming}\r\n            startTimer={() => {\r\n              const { hasUsedSolve } = this.state;\r\n              if (!hasUsedSolve) {\r\n                this.setState({ isTiming: true });\r\n              }\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Controller);\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { get1ToN } from \"../helpers\";\r\nimport { constants } from \"../constants\";\r\n\r\nconst { DISK_COLORS } = constants;\r\nconst maxNumDisks = DISK_COLORS.length;\r\n\r\nconst styles = {\r\n  root: {\r\n    marginTop: 30\r\n  },\r\n  submit: {\r\n    marginTop: 10\r\n  }\r\n};\r\n\r\nclass Initializer extends React.Component {\r\n  state = { error: false };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.target);\r\n    const numDisks = parseInt(data.get(\"numDisks\"));\r\n    if (get1ToN(maxNumDisks).includes(numDisks)) {\r\n      this.props.setNumDisks(numDisks);\r\n    } else {\r\n      this.setState({ error: true });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { error } = this.state;\r\n    return (\r\n      <div className={classes.root}>\r\n        <form onSubmit={this.handleSubmit} noValidate autoComplete='off'>\r\n          <TextField\r\n            name='numDisks'\r\n            label='Number of Disks'\r\n            helperText={`Enter a number up to ${maxNumDisks}`}\r\n            autoFocus={true}\r\n            error={error}\r\n          />\r\n          <br />\r\n          <Button className={classes.submit} color='primary' type='submit'>\r\n            Go\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Initializer);\r\n","import React from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Controller from \"./components/Controller\";\r\nimport Initializer from \"./components/Initializer\";\r\nimport { constants } from \"./constants\";\r\n\r\nconst { BASE_HEIGHT, GROUND_HEIGHT } = constants;\r\n\r\nconst styles = {\r\n  console: {\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    textAlign: \"center\"\r\n  },\r\n  columns: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    userSelect: \"none\"\r\n  }\r\n};\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    windowWidth: window.innerWidth,\r\n    windowHeight: window.innerHeight,\r\n    initializing: true,\r\n    numDisks: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.disableTouchMove();\r\n\r\n    window.addEventListener(\"resize\", ({ target }) =>\r\n      this.setState({\r\n        windowWidth: target.innerWidth,\r\n        windowHeight: target.innerHeight\r\n      })\r\n    );\r\n  }\r\n\r\n  enableScroll = () => {\r\n    if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\r\n      window.removeEventListener(\"touchmove\", this.preventDefault, {\r\n        passive: false\r\n      });\r\n      window.addEventListener(\"touchmove\", this.preventZoom, {\r\n        passive: false\r\n      });\r\n    }\r\n  };\r\n\r\n  disableTouchMove = () => {\r\n    if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\r\n      window.removeEventListener(\"touchmove\", this.preventZoom, {\r\n        passive: false\r\n      });\r\n      window.addEventListener(\"touchmove\", this.preventDefault, {\r\n        passive: false\r\n      });\r\n    }\r\n  };\r\n\r\n  preventDefault = event => event.preventDefault();\r\n\r\n  preventZoom = event => {\r\n    if (event.scale > 1) {\r\n      event.preventDefault();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { windowWidth, windowHeight, initializing, numDisks } = this.state;\r\n    const colWidth = windowWidth / 3;\r\n    const colHeight = numDisks ? numDisks * BASE_HEIGHT : 0;\r\n    const bufferHeight = windowHeight - colHeight - GROUND_HEIGHT;\r\n    return (\r\n      <div>\r\n        <div className={classes.console}>\r\n          {initializing ? (\r\n            <Initializer\r\n              setNumDisks={numDisks =>\r\n                this.setState({ initializing: false, numDisks })\r\n              }\r\n            />\r\n          ) : (\r\n            <Controller\r\n              numDisks={numDisks}\r\n              windowWidth={windowWidth}\r\n              windowHeight={windowHeight}\r\n              enableScroll={this.enableScroll}\r\n              disableTouchMove={this.disableTouchMove}\r\n              restart={() =>\r\n                this.setState({ initializing: true, numDisks: null })\r\n              }\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        <div style={{ width: windowWidth, height: bufferHeight }} />\r\n\r\n        <div className={classes.columns}>\r\n          <div\r\n            style={{\r\n              width: colWidth,\r\n              height: colHeight,\r\n              borderRight: \"5px solid #cde4ef\"\r\n            }}\r\n          />\r\n          <div\r\n            style={{\r\n              width: colWidth,\r\n              height: colHeight,\r\n              borderRight: \"5px solid #cde4ef\"\r\n            }}\r\n          />\r\n          <div\r\n            style={{\r\n              width: colWidth,\r\n              height: colHeight\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            width: windowWidth,\r\n            height: GROUND_HEIGHT,\r\n            background: \"#cde4ef\"\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}