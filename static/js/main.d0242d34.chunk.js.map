{"version":3,"sources":["constants.js","helpers.js","components/Disk.js","components/Controller.js","components/Initializer.js","App.js","serviceWorker.js","index.js"],"names":["constants","get1ToN","n","result","i","push","getLast","array","length","getUpToSecondLast","slice","getMeasurements","size","BASE_WIDTH","BASE_HEIGHT","multiplier","Math","ceil","solve","numDisks","initCol1","initCol2","initCol3","move","col1","col2","col3","sleep","ms","Promise","resolve","setTimeout","moveDisk","fromCol","toCol","pop","moveDisks","maxSize","a","includes","otherCol","Disk","props","active","xy","color","divWidth","width","height","useSpring","x","y","setPosition","useEffect","useState","zIndex","setZIndex","myRef","React","useRef","bind","useGesture","onDrag","event","preventDefault","onDragEnd","moveTo","domTarget","eventOptions","passive","div","ref","style","position","borderRadius","background","cursor","display","justifyContent","alignSelf","DISK_COLORS","Controller","state","reverse","isGameOver","getIsActive","getPosition","halfDivWidth","windowWidth","diskWidth","getY","col","windowHeight","colNum","newFromCol","newToCol","newCol1","newCol2","newCol3","setState","this","restart","top","left","right","Button","onClick","map","key","Component","maxNumDisks","Initializer","error","handleSubmit","data","FormData","target","parseInt","get","setNumDisks","marginTop","onSubmit","noValidate","autoComplete","TextField","name","label","helperText","autoFocus","DIV_COLORS","App","window","innerWidth","innerHeight","initializing","addEventListener","divHeight","userSelect","textAlign","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.d0242d34.chunk.js","sourcesContent":["export const constants = {\r\n  BASE_WIDTH: 60,\r\n  BASE_HEIGHT: 20,\r\n  DIV_COLORS: [\r\n    \"rgb(215, 169, 227, 0.4)\",\r\n    \"rgb(139, 190, 232, 0.4)\",\r\n    \"rgb(168, 213, 186, 0.4)\"\r\n  ],\r\n  DISK_COLORS: [\r\n    // 12 colors, referenced from\r\n    // https://venngage.com/blog/how-to-pick-colors/\r\n    \"#fef200\",\r\n    \"#9bca3b\",\r\n    \"#27b252\",\r\n    \"#0db0a1\",\r\n    \"#3654a7\",\r\n    \"#493a98\",\r\n    \"#92278f\",\r\n    \"#92296d\",\r\n    \"#ed1923\",\r\n    \"#ef4224\",\r\n    \"#f36522\",\r\n    \"#f89f1a\"\r\n  ]\r\n};\r\n","import { constants } from \"./constants\";\r\n\r\nexport const get1ToN = n => {\r\n  const result = [];\r\n  for (let i = 1; i <= n; i++) {\r\n    result.push(i);\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const getLast = array => array[array.length - 1];\r\n\r\nexport const getUpToSecondLast = array => array.slice(0, array.length - 1);\r\n\r\nexport const getMeasurements = size => {\r\n  const { BASE_WIDTH, BASE_HEIGHT } = constants;\r\n  const multiplier = size * 0.4 + 0.6;\r\n  return [Math.ceil(BASE_WIDTH * multiplier), BASE_HEIGHT];\r\n};\r\n\r\nexport const solve = (numDisks, initCol1, initCol2, initCol3, move) => {\r\n  let col1 = [...initCol1];\r\n  let col2 = [...initCol2];\r\n  let col3 = [...initCol3];\r\n\r\n  const sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n  const moveDisk = (fromCol, toCol, size) => {\r\n    if (fromCol === col1) {\r\n      col1.pop();\r\n    } else if (fromCol === col2) {\r\n      col2.pop();\r\n    } else {\r\n      col3.pop();\r\n    }\r\n\r\n    if (toCol === col1) {\r\n      col1.push(size);\r\n    } else if (toCol === col2) {\r\n      col2.push(size);\r\n    } else {\r\n      col3.push(size);\r\n    }\r\n  };\r\n\r\n  // algorithm from\r\n  // https://stackoverflow.com/questions/49220476/tower-of-hanoi-solving-halfway-algorithm-in-python\r\n  const moveDisks = async (maxSize, toCol) => {\r\n    let fromCol;\r\n    let size = maxSize;\r\n    while (size >= 1) {\r\n      if (col1 !== toCol && col1.includes(size)) {\r\n        fromCol = col1;\r\n        break;\r\n      }\r\n      if (col2 !== toCol && col2.includes(size)) {\r\n        fromCol = col2;\r\n        break;\r\n      }\r\n      if (col3 !== toCol && col3.includes(size)) {\r\n        fromCol = col3;\r\n        break;\r\n      }\r\n      size--;\r\n    }\r\n\r\n    // all disks are already in the to-column\r\n    if (size === 0) {\r\n      return;\r\n    }\r\n\r\n    const otherCol =\r\n      col1 !== fromCol && col1 !== toCol\r\n        ? col1\r\n        : col2 !== fromCol && col2 !== toCol\r\n        ? col2\r\n        : col3;\r\n\r\n    await moveDisks(size - 1, otherCol);\r\n\r\n    await sleep(500);\r\n\r\n    if (toCol === col1) {\r\n      move(1, size);\r\n    } else if (toCol === col2) {\r\n      move(2, size);\r\n    } else {\r\n      move(3, size);\r\n    }\r\n    moveDisk(fromCol, toCol, size);\r\n\r\n    await sleep(500);\r\n\r\n    await moveDisks(size - 1, toCol);\r\n  };\r\n\r\n  moveDisks(numDisks, col2);\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport { useGesture } from \"react-use-gesture\";\r\n\r\nimport { getMeasurements } from \"../helpers\";\r\n\r\nfunction Disk(props) {\r\n  const { active, xy, move, size, color, divWidth } = props;\r\n  const [width, height] = getMeasurements(size);\r\n\r\n  // spring to smoothen drag\r\n  const [{ x, y }, setPosition] = useSpring(() => ({ x: xy[0], y: xy[1] }));\r\n\r\n  // move disks via props.xy\r\n  useEffect(() => {\r\n    setPosition({ x: props.xy[0], y: props.xy[1] });\r\n  }, [setPosition, props.xy]);\r\n\r\n  // z-index to put moving disk in front\r\n  const [zIndex, setZIndex] = useState(1);\r\n\r\n  const myRef = React.useRef(null);\r\n\r\n  const bind = useGesture(\r\n    {\r\n      onDrag: ({ event, xy: [x, y] }) => {\r\n        event.preventDefault();\r\n        if (active) {\r\n          setPosition({ x: x - width / 2, y: y - height / 2 });\r\n          setZIndex(99);\r\n        }\r\n      },\r\n      onDragEnd: ({ event, xy: [x, y] }) => {\r\n        event.preventDefault();\r\n        if (active) {\r\n          const colNum = x <= divWidth ? 1 : x <= 2 * divWidth ? 2 : 3;\r\n          const moveTo = move(colNum, size);\r\n          setPosition({ x: moveTo[0], y: moveTo[1] });\r\n          setZIndex(1);\r\n        }\r\n      }\r\n    },\r\n    {\r\n      domTarget: myRef,\r\n      eventOptions: { passive: false }\r\n    }\r\n  );\r\n\r\n  React.useEffect(bind, [bind]);\r\n\r\n  return (\r\n    <animated.div\r\n      ref={myRef}\r\n      {...bind()}\r\n      style={{\r\n        position: \"absolute\",\r\n        x,\r\n        y,\r\n        zIndex,\r\n        width,\r\n        height,\r\n        borderRadius: \"20px\",\r\n        background: color,\r\n        cursor: active ? \"grab\" : \"default\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\"\r\n      }}\r\n    >\r\n      <span style={{ alignSelf: \"center\" }}>{size}</span>\r\n    </animated.div>\r\n  );\r\n}\r\n\r\nexport default Disk;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Confetti from \"react-confetti\";\r\n\r\nimport Disk from \"./Disk\";\r\nimport {\r\n  get1ToN,\r\n  getLast,\r\n  getUpToSecondLast,\r\n  getMeasurements,\r\n  solve\r\n} from \"../helpers\";\r\nimport { constants } from \"../constants\";\r\n\r\nconst { DISK_COLORS } = constants;\r\n\r\nclass Controller extends React.Component {\r\n  state = {\r\n    col1: get1ToN(this.props.numDisks).reverse(),\r\n    col2: [],\r\n    col3: []\r\n  };\r\n\r\n  isGameOver = () => {\r\n    const { numDisks } = this.props;\r\n    const { col2, col3 } = this.state;\r\n    return col2.length === numDisks || col3.length === numDisks;\r\n  };\r\n\r\n  getIsActive = size => {\r\n    const { col1, col2, col3 } = this.state;\r\n    return (\r\n      !this.isGameOver() &&\r\n      (getLast(col1) === size ||\r\n        getLast(col2) === size ||\r\n        getLast(col3) === size)\r\n    );\r\n  };\r\n\r\n  getPosition = (col1, col2, col3, size) => {\r\n    const { windowWidth } = this.props;\r\n    const halfDivWidth = windowWidth / 6;\r\n    const diskWidth = getMeasurements(size)[0];\r\n    if (col1.includes(size)) {\r\n      const x = halfDivWidth - diskWidth / 2;\r\n      const y = this.getY(col1, size);\r\n      return [x, y];\r\n    }\r\n\r\n    if (col2.includes(size)) {\r\n      const x = halfDivWidth * 3 - diskWidth / 2;\r\n      const y = this.getY(col2, size);\r\n      return [x, y];\r\n    }\r\n\r\n    const x = halfDivWidth * 5 - diskWidth / 2;\r\n    const y = this.getY(col3, size);\r\n    return [x, y];\r\n  };\r\n\r\n  getY = (col, size) => {\r\n    const { windowHeight } = this.props;\r\n    const divHeight = windowHeight - 150;\r\n    const diskHeight = getMeasurements(size)[1];\r\n    let y = divHeight - diskHeight;\r\n    let i = 0;\r\n    while (col[i] !== size) {\r\n      y -= getMeasurements(col[i])[1];\r\n      i++;\r\n    }\r\n    return y;\r\n  };\r\n\r\n  move = (colNum, size) => {\r\n    const { col1, col2, col3 } = this.state;\r\n    // prettier-ignore\r\n    const fromCol = col1.includes(size) ? col1 : col2.includes(size) ? col2 : col3;\r\n    const toCol = colNum === 1 ? col1 : colNum === 2 ? col2 : col3;\r\n\r\n    if (fromCol === toCol || size > getLast(toCol)) {\r\n      return this.getPosition(col1, col2, col3, size);\r\n    }\r\n\r\n    const newFromCol = getUpToSecondLast(fromCol);\r\n    const newToCol = [...toCol, size];\r\n\r\n    // prettier-ignore\r\n    const newCol1 = col1 === fromCol ? newFromCol : col1 === toCol ? newToCol : col1\r\n    // prettier-ignore\r\n    const newCol2 = col2 === fromCol ? newFromCol : col2 === toCol ? newToCol : col2\r\n    // prettier-ignore\r\n    const newCol3 = col3 === fromCol ? newFromCol : col3 === toCol ? newToCol : col3\r\n\r\n    this.setState({\r\n      col1: newCol1,\r\n      col2: newCol2,\r\n      col3: newCol3\r\n    });\r\n    return this.getPosition(newCol1, newCol2, newCol3, size);\r\n  };\r\n\r\n  solve = () => {\r\n    const { numDisks } = this.props;\r\n    const { col1, col2, col3 } = this.state;\r\n    solve(numDisks, [...col1], [...col2], [...col3], this.move);\r\n  };\r\n\r\n  render() {\r\n    const { numDisks, windowWidth, windowHeight, restart } = this.props;\r\n    const { col1, col2, col3 } = this.state;\r\n    const divWidth = windowWidth / 3;\r\n    return (\r\n      <div>\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 30,\r\n            left: 0,\r\n            right: 0,\r\n            display: \"flex\",\r\n            justifyContent: \"center\"\r\n          }}\r\n        >\r\n          <Button color='primary' onClick={this.solve}>\r\n            Solve\r\n          </Button>\r\n          <Button color='secondary' onClick={restart}>\r\n            Restart\r\n          </Button>\r\n        </div>\r\n\r\n        {this.isGameOver() && (\r\n          <Confetti width={windowWidth} height={windowHeight} />\r\n        )}\r\n\r\n        {get1ToN(numDisks).map(size => (\r\n          <Disk\r\n            key={size}\r\n            active={this.getIsActive(size)}\r\n            xy={this.getPosition(col1, col2, col3, size)}\r\n            move={this.move}\r\n            size={size}\r\n            color={DISK_COLORS[size - 1]}\r\n            divWidth={divWidth}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Controller;\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport { get1ToN } from \"../helpers\";\r\nimport { constants } from \"../constants\";\r\n\r\nconst { DISK_COLORS } = constants;\r\nconst maxNumDisks = DISK_COLORS.length;\r\n\r\nclass Initializer extends React.Component {\r\n  state = { error: false };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.target);\r\n    const numDisks = parseInt(data.get(\"numDisks\"));\r\n    if (get1ToN(maxNumDisks).includes(numDisks)) {\r\n      this.props.setNumDisks(numDisks);\r\n    } else {\r\n      this.setState({ error: true });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { error } = this.state;\r\n    return (\r\n      <div style={{ marginTop: 30 }}>\r\n        <form onSubmit={this.handleSubmit} noValidate autoComplete='off'>\r\n          <TextField\r\n            name='numDisks'\r\n            label='Number of Disks'\r\n            helperText={`Enter a number up to ${maxNumDisks}`}\r\n            autoFocus={true}\r\n            error={error}\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Initializer;\r\n","import React from \"react\";\r\n\r\nimport Controller from \"./components/Controller\";\r\nimport Initializer from \"./components/Initializer\";\r\nimport { constants } from \"./constants\";\r\n\r\nconst { DIV_COLORS } = constants;\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    windowWidth: window.innerWidth,\r\n    windowHeight: window.innerHeight,\r\n    initializing: true,\r\n    numDisks: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"resize\", ({ target }) =>\r\n      this.setState({\r\n        windowWidth: target.innerWidth,\r\n        windowHeight: target.innerHeight\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { windowWidth, windowHeight, initializing, numDisks } = this.state;\r\n    const divWidth = windowWidth / 3;\r\n    const divHeight = windowHeight - 150;\r\n    return (\r\n      <div>\r\n        <div\r\n          style={{ position: \"relative\", display: \"flex\", userSelect: \"none\" }}\r\n        >\r\n          <div\r\n            style={{\r\n              width: divWidth,\r\n              height: divHeight,\r\n              background: DIV_COLORS[0]\r\n            }}\r\n          />\r\n          <div\r\n            style={{\r\n              width: divWidth,\r\n              height: divHeight,\r\n              background: DIV_COLORS[1]\r\n            }}\r\n          />\r\n          <div\r\n            style={{\r\n              width: divWidth,\r\n              height: divHeight,\r\n              background: DIV_COLORS[2]\r\n            }}\r\n          />\r\n\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              left: 0,\r\n              right: 0,\r\n              textAlign: \"center\"\r\n            }}\r\n          >\r\n            {initializing ? (\r\n              <Initializer\r\n                setNumDisks={numDisks =>\r\n                  this.setState({ initializing: false, numDisks })\r\n                }\r\n              />\r\n            ) : (\r\n              <Controller\r\n                numDisks={numDisks}\r\n                windowWidth={windowWidth}\r\n                windowHeight={windowHeight}\r\n                restart={() => this.setState({ initializing: true })}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            width: windowWidth,\r\n            height: 150,\r\n            background: \"gainsboro\"\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}