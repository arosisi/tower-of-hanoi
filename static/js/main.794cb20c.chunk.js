(this["webpackJsonptower-of-hanoi"]=this["webpackJsonptower-of-hanoi"]||[]).push([[0],{118:function(e,t,n){e.exports=n(142)},123:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(16),r=n.n(i),s=(n(123),n(9)),c=n(10),l=n(12),u=n(7),m=n(11),h=n(6),d=n(57),p=n(26),f=n(192),g=n(97),b=n.n(g),v=n(216),w=n(105),E=n.n(w),S=n(104),y=n.n(S),k=n(103),O=n.n(k),j=n(217),C=n(219),D=n(214),x=n(215),N=n(189),_=n(218),T=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,showInfo:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onClose;return o.a.createElement(x.a,{open:!0,onClose:n},o.a.createElement(_.a,null,"About the game"),o.a.createElement(N.a,{className:t.content},o.a.createElement("ul",null,o.a.createElement("li",null,"The objective is to move the stack of disks from the left column to either of the other two columns."),o.a.createElement("li",null,"Drag and drop a disk to move it. You can only move one disk at a time and it must be the disk on top."),o.a.createElement("li",null,"Larger disks cannot be placed on top of smaller disks.")),o.a.createElement("p",null,"Read more about the game"," ",o.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Tower_of_Hanoi",target:"_blank",rel:"noopener noreferrer"},"here"),".")))}}]),t}(o.a.Component),A=Object(h.a)({content:{marginTop:-20,marginBottom:20}})(T),W=n(191),R=n(110),I=n(212),z=n(74),U=n(23),H=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={verified:!1,submitting:!1,status:""},n.handleSubmit=function(){var e=n.form,t=new FormData(e);t.get("description")&&n.setState({submitting:!0},(function(){var a=new XMLHttpRequest;a.open(e.method,e.action),a.setRequestHeader("Accept","application/json"),a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&(200===a.status?n.setState({submitting:!1,status:"SUCCESS"}):n.setState({submitting:!1,status:"ERROR"}))},a.send(t)}))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.windowWidth,i=t.onClose,r=this.state,s=r.verified,c=r.submitting,l=r.status;return o.a.createElement(x.a,{className:n.root,open:!0,onClose:i},o.a.createElement(_.a,null,"Report a bug"),o.a.createElement(N.a,{className:n.content},o.a.createElement(z.a,{onSubmit:this.handleSubmit,initialValues:{description:""}},(function(t){var i=t.handleSubmit,r=t.handleChange,u=t.values;return o.a.createElement("form",{ref:function(t){e.form=t},noValidate:!0,autoComplete:"off",onSubmit:i,action:U.form_endpoint,method:"POST"},o.a.createElement(I.a,{className:n.description,fullWidth:!0,multiline:!0,rowsMax:6,name:"description",label:"Description",helperText:"Describe the bug to report",autoFocus:!0,value:u.description,onChange:function(t){e.setState({status:""}),r(t)},disabled:"SUCCESS"===l}),o.a.createElement(R.a,{size:a<416?"compact":"normal",style:Object(d.a)({},"SUCCESS"===l?{opacity:.65,pointerEvents:"none"}:null),sitekey:U.captcha_sitekey,onChange:function(){return e.setState({verified:!0})},onExpired:function(){return e.setState({verified:!1})}}),o.a.createElement("div",{className:n.submit},"SUCCESS"===l?o.a.createElement("p",{className:n.submitted},"Submitted!"):c?o.a.createElement(W.a,null):o.a.createElement(f.a,{color:"primary",type:"submit",disabled:!u.description||!s},"Submit"),"ERROR"===l&&o.a.createElement("p",{className:n.error},"Ooops! There was an error.")))}))))}}]),t}(o.a.Component),B=Object(h.a)({content:{marginBottom:20,textAlign:"center"},description:{minWidth:"25ch",marginBottom:10},submit:{marginTop:10},submitted:{marginBottom:10},error:{margin:0,color:"#f44336"}})(H),F=n(193),L=n(194),M=n(195),P=n(196),G=n(197),J=n(198),Y=n(199),V=n(200),q=n(201),X=n(202),K=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onClose;return o.a.createElement(x.a,{open:!0,onClose:n},o.a.createElement(_.a,null,"Share"),o.a.createElement(N.a,{className:t.content},o.a.createElement(F.a,{className:t.button,url:"https://arosisi.github.io/tower-of-hanoi"},o.a.createElement(L.a,{size:32,round:!0})),o.a.createElement(M.a,{className:t.button,url:"https://arosisi.github.io/tower-of-hanoi",title:"Tower of Hanoi",hashtags:["game","puzzle","brainteaser","towerofhanoi"]},o.a.createElement(P.a,{size:32,round:!0})),o.a.createElement(G.a,{className:t.button,url:"https://arosisi.github.io/tower-of-hanoi",title:"Tower of Hanoi"},o.a.createElement(J.a,{size:32,round:!0})),o.a.createElement(Y.a,{className:t.button,url:"https://arosisi.github.io/tower-of-hanoi"},o.a.createElement(V.a,{size:32,round:!0})),o.a.createElement(q.a,{className:t.button,style:{marginRight:0},url:"https://arosisi.github.io/tower-of-hanoi",title:"Tower of Hanoi"},o.a.createElement(X.a,{size:32,round:!0}))))}}]),t}(o.a.Component),$=Object(h.a)({content:{marginBottom:20,"& > *":{marginRight:5}},button:{outline:"none"}})(K),Q=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,showShare:!1,showInfo:!1,showReportBug:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.windowWidth,i=t.show,r=this.state,s=r.open,c=r.showShare,l=r.showInfo,u=r.showReportBug;return o.a.createElement("div",null,o.a.createElement(j.a,{ariaLabel:"Actions",className:n.actions,icon:o.a.createElement(C.a,null),onClose:function(){return e.setState({open:!1})},onOpen:function(){return e.setState({open:!0})},open:s,direction:"down"},o.a.createElement(D.a,{icon:o.a.createElement(O.a,null),tooltipTitle:"Share",tooltipPlacement:"right",onClick:function(){i(),e.setState({open:!1,showShare:!0})}}),o.a.createElement(D.a,{icon:o.a.createElement(y.a,null),tooltipTitle:"Info",tooltipPlacement:"right",onClick:function(){i(),e.setState({open:!1,showInfo:!0})}}),o.a.createElement(D.a,{icon:o.a.createElement(E.a,null),tooltipTitle:"Report Bug",tooltipPlacement:"right",onClick:function(){i(),e.setState({open:!1,showReportBug:!0})}})),c&&o.a.createElement($,{onClose:function(){return e.setState({showShare:!1})}}),l&&o.a.createElement(A,{onClose:function(){return e.setState({showInfo:!1})}}),u&&o.a.createElement(B,{windowWidth:a,onClose:function(){return e.setState({showReportBug:!1})}}))}}]),t}(o.a.Component),Z=Object(h.a)({actions:{position:"absolute",top:15,left:15}})(Q),ee=n(32),te=n(82),ne=n(204),ae=n(106),oe=n(24),ie=n.n(oe),re=n(43),se=n(28),ce=n.n(se),le=50,ue=20,me=300,he=150,de=["#448098","#e2c1b9","#da344d","#d7bc3e","#2faa77","#e37e8c","#57a9d4","#a08986"],pe=function(e){var t=ce.a.duration(e);return Math.floor(t.asHours())+ce.a.utc(t.asMilliseconds()).format(":mm:ss:SSS")},fe=function(e,t){return e.length<=t?e:e.slice(0,t)},ge=function(e){for(var t=[],n=1;n<=e;n++)t.push(n);return t},be=function(e){return e[e.length-1]},ve=function(e){return e.slice(0,e.length-1)},we=function(e){var t=le,n=ue,a=.3*e+.7;return[Math.ceil(t*a),n]},Ee=function(e,t,n,a){var o=Object(p.a)(t),i=Object(p.a)(n),r=Object(p.a)(a),s="",c=function(e,t,n){e===o?o.pop():e===i?i.pop():r.pop(),t===o?o.push(n):t===i?i.push(n):r.push(n)},l=function(){var e=Object(re.a)(ie.a.mark((function e(t,n){var a,u;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=t;case 1:if(!(u>=1)){e.next=14;break}if(o===n||!o.includes(u)){e.next=5;break}return a=o,e.abrupt("break",14);case 5:if(i===n||!i.includes(u)){e.next=8;break}return a=i,e.abrupt("break",14);case 8:if(r===n||!r.includes(u)){e.next=11;break}return a=r,e.abrupt("break",14);case 11:u--,e.next=1;break;case 14:if(0!==u){e.next=16;break}return e.abrupt("return");case 16:l(u-1,o!==a&&o!==n?o:i!==a&&i!==n?i:r),c(a,n,u),s+="".concat(JSON.stringify({col1:o,col2:i,col3:r}),","),l(u-1,n);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return l(e,i),"[".concat(s.slice(0,-1),"]")};var Se=function(e){var t=e.active,n=e.xy,i=e.startMove,r=e.endDrag,s=e.move,c=e.endMove,l=e.size,u=e.color,m=e.windowWidth,h=e.windowHeight,d=e.divWidth,p=e.isTiming,f=e.startTimer,g=we(l),b=Object(ee.a)(g,2),v=b[0],w=b[1],E=Object(a.useState)(!1),S=Object(ee.a)(E,2),y=S[0],k=S[1],O=Object(a.useState)(1),j=Object(ee.a)(O,2),C=j[0],D=j[1],x=Object(te.a)((function(){return{x:n[0],y:n[1],onRest:function(){y||c()}}}),[y,c]),N=Object(ee.a)(x,2),_=N[0],T=_.x,A=_.y,W=N[1];Object(a.useEffect)((function(){W({x:e.xy[0],y:e.xy[1]})}),[W,e.xy]);var R=o.a.useRef(null),I=Object(ae.a)({onDragStart:function(e){e.event.preventDefault(),t&&(i(),k(!0),p||f())},onDrag:function(e){var n=e.event,a=Object(ee.a)(e.xy,2),o=a[0],i=a[1];(n.preventDefault(),t)&&(W({x:(o>m-v/2?m-v/2:o)-v/2,y:(i>h-w?h-w:i)-w/2}),99!==C&&D(99))},onDragEnd:function(e){var n=e.event,a=Object(ee.a)(e.xy,2),o=a[0];a[1];if(n.preventDefault(),t){var i=o<=d?1:o<=2*d?2:3;r(),k(!1),D(1),s(i,l)}}},{domTarget:R,eventOptions:{passive:!1}});return o.a.useEffect(I,[I]),o.a.createElement(ne.a.div,Object.assign({ref:R},I(),{style:{position:"absolute",x:T,y:A,zIndex:C,width:v,height:w,borderRadius:"20px",background:u,cursor:t?"grab":"default",display:"flex",justifyContent:"center"}}),o.a.createElement("span",{style:{alignSelf:"center"}},l))},ye=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={fetching:!0,highScores:[],submitting:!1,showError:!1},n.getCongratsMessage=function(){var e=n.props,t=e.numDisks,a=e.time,i=n.state.highScores,r=a<i[0].time?"":!i[1]||a<i[1].time?"2nd":!i[2]||a<i[2].time?"3rd":!i[3]||a<i[3].time?"4th":"5th";return o.a.createElement("div",null,"You have the ",o.a.createElement("strong",null,r),r?" ":"","best time for ",t," disk(s).")},n.renderTimeSubmitForm=function(){var e=n.props.classes;return o.a.createElement(z.a,{onSubmit:n.handleSubmit,initialValues:{name:""}},(function(t){var a=t.handleSubmit,i=t.handleChange,r=t.values;return o.a.createElement("form",{className:e.form,onSubmit:a},o.a.createElement(I.a,{name:"name",label:"Name",helperText:"Enter your name to display on the leaderboard",autoFocus:!0,value:r.name,onChange:function(e){n.setState({showError:!1}),i(e)}}),o.a.createElement(f.a,{className:e.submit,color:"primary",type:"submit",disabled:!r.name},"Submit"))}))},n.handleSubmit=function(e){var t=e.name,a=n.props,o=a.numDisks,i=a.time,r=a.timeStamp,s=a.onSubmit;n.setState({submitting:!0},(function(){fetch(U.high_score_api_endpoint,{method:"POST",headers:{"content-type":"application/json","x-apikey":U.high_score_api_key,"cache-control":"no-cache"},body:JSON.stringify({numDisks:o,name:t,time:i,timeStamp:r})}).then((function(e){return e.json()})).then((function(e){e._id?(n.setState({submitting:!1}),s()):(n.setState({submitting:!1,showError:!0}),console.log("Failed to update high scores."))})).catch((function(e){return console.log("Unable to connect to API.",e)}))}))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.numDisks;fetch(U.high_score_api_endpoint,{headers:{"content-type":"application/json","x-apikey":U.high_score_api_key,"cache-control":"no-cache"}}).then((function(e){return e.json()})).then((function(n){if(Array.isArray(n)){var a=n.filter((function(e){return e.numDisks===t}));e.setState({fetching:!1,highScores:a.sort((function(e,t){var n=e._id,a=e.time,o=e.timeStamp,i=t._id,r=t.time,s=t.timeStamp;return a!==r?a-r:o!==s?ce()(o).isBefore(ce()(s)):n<i}))})}else e.setState({fetching:!1}),console.log("Failed to fetch high scores.")})).catch((function(e){return console.log("Unable to connect to API.",e)}))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.numDisks,a=e.time,i=e.onClose,r=this.state,s=r.fetching,c=r.highScores,l=r.submitting,u=r.showError;return o.a.createElement("div",null,o.a.createElement(x.a,{className:t.root,open:!0,onClose:i},o.a.createElement(_.a,null,"Your time is ",pe(a),"!"),o.a.createElement(N.a,{className:t.content},s?o.a.createElement(W.a,null):c.length?c.length<5||a<c[4].time?o.a.createElement("div",null,this.getCongratsMessage(),o.a.createElement("br",null),l?o.a.createElement(W.a,null):this.renderTimeSubmitForm()):o.a.createElement("div",null,o.a.createElement("div",null,"You haven't beaten the 5th best time of"," ",o.a.createElement("strong",null,c[4].name)," of"," ",o.a.createElement("strong",null,pe(c[4].time))," for"," ",n," disk(s)."),o.a.createElement("p",null,"Try again!")):o.a.createElement("div",null,o.a.createElement("div",null,"There is no best time for now for ",n," disk(s)."),o.a.createElement("br",null),l?o.a.createElement(W.a,null):this.renderTimeSubmitForm()),u&&o.a.createElement("p",{className:t.error},"Something went wrong. Try again later."))))}}]),t}(o.a.Component),ke=Object(h.a)({root:{textAlign:"center"},content:{marginBottom:20},form:{display:"flex",flexDirection:"column"},submit:{marginTop:10},error:{color:"#f44336"}})(ye),Oe=n(206),je=n(210),Ce=n(205),De=n(209),xe=n(207),Ne=n(208),_e=de,Te=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={fetching:!0,highScores:[],showError:!1},n.takeFive=function(e){var t=[];return ge(_e.length).forEach((function(n){var a=e.filter((function(e){return e.numDisks===n}));a.length&&t.push.apply(t,Object(p.a)(fe(a,5)))})),t},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(U.high_score_api_endpoint,{headers:{"content-type":"application/json","x-apikey":U.high_score_api_key,"cache-control":"no-cache"}}).then((function(e){return e.json()})).then((function(t){Array.isArray(t)?e.setState({fetching:!1,highScores:e.takeFive(t.sort((function(e,t){var n=e._id,a=e.numDisks,o=e.time,i=e.timeStamp,r=t._id,s=t.numDisks,c=t.time,l=t.timeStamp;return a!==s?a-s:o!==c?o-c:i!==l?ce()(i).isBefore(ce()(l)):n<r})))}):(e.setState({fetching:!1,showError:!0}),console.log("Failed to fetch high scores."))})).catch((function(e){return console.log("Unable to connect to API.",e)}))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onClose,a=this.state,i=a.fetching,r=a.highScores,s=a.showError;return o.a.createElement(x.a,{className:t.root,open:!0,onClose:n},o.a.createElement(_.a,null,"Leaderboard"),o.a.createElement(N.a,{className:t.content},i?o.a.createElement(W.a,null):r.length?o.a.createElement(Ce.a,{className:t.table},o.a.createElement(Oe.a,{stickyHeader:!0,size:"small"},o.a.createElement(xe.a,null,o.a.createElement(Ne.a,null,o.a.createElement(De.a,null,"No. Disks"),o.a.createElement(De.a,{align:"right"},"Name"),o.a.createElement(De.a,{align:"right"},"Time"))),o.a.createElement(je.a,null,r.map((function(e){var n=e._id,a=e.numDisks,i=e.name,r=e.time;return o.a.createElement(Ne.a,{key:n,className:a%2===1?t.highlighted:""},o.a.createElement(De.a,{component:"th",scope:"row"},a),o.a.createElement(De.a,{align:"right"},i),o.a.createElement(De.a,{align:"right"},pe(r)))}))))):!s&&"There is no best time for now.",s&&o.a.createElement("div",{className:t.error},"Something went wrong. Try again later.")))}}]),t}(o.a.Component),Ae=Object(h.a)({root:{textAlign:"center"},content:{marginBottom:20},table:{width:"fit-content",maxHeight:400},highlighted:{background:"rgba(0, 0, 0, 0.04)"},error:{color:"#f44336"}})(Te),We=n(211),Re=n(108),Ie=n.n(Re),ze=n(109),Ue=n.n(ze),He=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={numLikes:null,timeStamp:null},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(U.like_api_endpoint,{headers:{"content-type":"application/json","x-apikey":U.like_api_key,"cache-control":"no-cache"}}).then((function(e){return e.json()})).then((function(t){Array.isArray(t)?e.setState({numLikes:t.length}):console.log("Failed to fetch likes.")})).catch((function(e){return console.log("Unable to connect to API.",e)}))}},{key:"componentWillUnmount",value:function(){var e=this.state.timeStamp;e&&fetch(U.like_api_endpoint,{method:"POST",headers:{"content-type":"application/json","x-apikey":U.like_api_key,"cache-control":"no-cache"},body:JSON.stringify({timeStamp:e})}).then((function(e){return e.json()})).then((function(e){e._id||console.log("Failed to update likes.")})).catch((function(e){return console.log("Unable to connect to API.",e)}))}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=n.numLikes,i=n.timeStamp;return o.a.createElement("div",{className:t.root},null!==a?o.a.createElement("div",{className:t.counter},a+!!i,o.a.createElement(We.a,{size:"small",onClick:function(){return e.setState({timeStamp:i?null:ce()()})}},i?o.a.createElement(Ie.a,{color:"secondary",fontSize:"small"}):o.a.createElement(Ue.a,{color:"secondary",fontSize:"small"}))):o.a.createElement(W.a,{color:"secondary",size:24}))}}]),t}(o.a.Component),Be=Object(h.a)({root:{position:"absolute",top:30,right:30,zIndex:1},counter:{display:"flex",alignItems:"center"}})(He),Fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={handler:null,start:null,millisecs:0,timeStamp:null},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(!e.running&&this.props.running){var n=setInterval((function(){var e=ce()(),n=t.state.start||e,a=e.diff(n);t.setState({start:n,millisecs:a})}),10);this.setState({handler:n})}if(e.running&&!this.props.running){var a=this.state.handler;clearInterval(a);var o=ce()();this.setState({timeStamp:o}),e.disabled||this.props.disabled||this.props.recordTime(this.state.millisecs,o)}}},{key:"componentWillUnmount",value:function(){var e=this.state.handler;clearInterval(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.disabled,a=e.recordTime,i=this.state,r=i.millisecs,s=i.timeStamp;return o.a.createElement("div",{style:{color:n?"#f44336":"inherit"}},o.a.createElement("div",{className:t.time,onClick:function(){return a(r,s)}},pe(r)),n&&o.a.createElement("div",{className:t.warning},"Time is now invalid!"))}}]),t}(o.a.Component),Le=Object(h.a)({time:{width:"fit-content",margin:"auto",cursor:"pointer"},warning:{marginTop:10}})(Fe),Me=he,Pe=de,Ge=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={col1:ge(n.props.numDisks).reverse(),col2:[],col3:[],dragging:!1,movingDisk:null,solving:!1,handler:null,step:0,showLeaderboard:!1,isTiming:!1,time:null,timeStamp:null,hasUsedSolve:!1,showGameOver:!1,hasSubmitted:!1,showSubmissionSuccess:!1},n.isGameOver=function(){var e=n.props.numDisks,t=n.state,a=t.col2,o=t.col3;return!t.movingDisk&&(a.length===e||o.length===e)},n.getIsActive=function(e){var t=n.state,a=t.col1,o=t.col2,i=t.col3,r=t.dragging,s=t.movingDisk,c=t.solving;return(!r||!s||s===e)&&!c&&!n.isGameOver()&&(be(a)===e||be(o)===e||be(i)===e)},n.getPosition=function(e){var t=n.props.windowWidth,a=n.state,o=a.col1,i=a.col2,r=a.col3,s=t/6,c=we(e)[0];return o.includes(e)?[s-c/2,n.getY(o,e)]:i.includes(e)?[3*s-c/2,n.getY(i,e)]:[5*s-c/2,n.getY(r,e)]},n.getY=function(e,t){for(var a=n.props.windowHeight-Me-we(t)[1],o=0;e[o]!==t;)a-=we(e[o])[1],o++;return a},n.move=function(e,t){var a=n.state,o=a.col1,i=a.col2,r=a.col3,s=o.includes(t)?o:i.includes(t)?i:r,c=1===e?o:2===e?i:r;if(!(s===c||t>be(c))){var l=ve(s),u=[].concat(Object(p.a)(c),[t]),m=o===s?l:o===c?u:o,h=i===s?l:i===c?u:i,d=r===s?l:r===c?u:r;n.setState({col1:m,col2:h,col3:d})}},n.solve=function(){n.setState({isTiming:!1,hasUsedSolve:!0});var e=n.props.numDisks,t=n.state,a=t.col1,o=t.col2,i=t.col3,r=JSON.parse(Ee(e,Object(p.a)(a),Object(p.a)(o),Object(p.a)(i)));n.setState({solving:!0,steps:r,step:0},(function(){var e=setInterval((function(){var t=n.state,a=t.steps,o=t.step;o<a.length?n.setState(Object(d.a)({},a[o],{step:o+1})):clearInterval(e)}),1e3);n.setState({handler:e})}))},n.stop=function(){var e=n.state.handler;n.setState({solving:!1},(function(){return clearInterval(e)}))},n.show=function(e){var t=n.state,a=t.solving,o=t.handler;a&&!n.isGameOver()?n.setState(Object(d.a)({solving:!1},e),(function(){return clearInterval(o)})):n.setState(Object(d.a)({},e))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.state.handler;e&&clearInterval(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.numDisks,i=t.windowWidth,r=t.windowHeight,s=t.restart,c=this.state,l=c.solving,u=c.showLeaderboard,m=c.isTiming,h=c.time,d=c.timeStamp,p=c.hasUsedSolve,g=c.showGameOver,w=c.hasSubmitted,E=c.showSubmissionSuccess,S=i/3,y=this.isGameOver();return o.a.createElement("div",null,o.a.createElement(Z,{windowWidth:i,show:this.show}),o.a.createElement(Be,null),o.a.createElement("div",{className:n.controlButtons},!l&&o.a.createElement(f.a,{color:"primary",disabled:y,onClick:this.solve},"Solve"),l&&o.a.createElement(f.a,{color:"primary",disabled:y,onClick:this.stop},"Stop"),o.a.createElement(f.a,{color:"secondary",onClick:s},"Restart")),o.a.createElement("div",{className:n.leaderboardButton},o.a.createElement(f.a,{onClick:function(){return e.show({showLeaderboard:!0})}},"Leaderboard")),o.a.createElement("div",{className:n.timer},o.a.createElement(Le,{running:m&&!y,disabled:p,recordTime:function(t,n){return e.setState({time:t,timeStamp:n,showGameOver:!0})}})),u&&o.a.createElement(Ae,{onClose:function(){return e.setState({showLeaderboard:!1})}}),g&&y&&!p&&!w&&o.a.createElement(ke,{numDisks:a,time:h,timeStamp:d,onClose:function(){return e.setState({showGameOver:!1})},onSubmit:function(){return e.setState({hasSubmitted:!0,showSubmissionSuccess:!0})}}),E&&o.a.createElement(v.a,{className:n.success,open:!0,message:"High score submitted!",onClose:function(){return e.setState({showSubmissionSuccess:!1})}}),y&&o.a.createElement(b.a,{width:i,height:r}),ge(a).map((function(t){return o.a.createElement(Se,{key:t,active:e.getIsActive(t),xy:e.getPosition(t),startMove:function(){return e.setState({dragging:!0,movingDisk:t})},endDrag:function(){return e.setState({dragging:!1})},move:e.move,endMove:function(){return e.setState({movingDisk:null})},size:t,color:Pe[t-1],windowWidth:i,windowHeight:r,divWidth:S,isTiming:m,startTimer:function(){e.state.hasUsedSolve||e.setState({isTiming:!0})}})})))}}]),t}(o.a.Component),Je=Object(h.a)({controlButtons:{position:"absolute",top:30,left:0,right:0,display:"flex",justifyContent:"center"},leaderboardButton:{position:"absolute",top:70,left:0,right:0},timer:{position:"absolute",top:110,left:0,right:0},success:{width:"fit-content",margin:"auto"}})(Ge),Ye=de.length,Ve=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={error:!1},n.handleSubmit=function(e){e.preventDefault();var t=new FormData(e.target),a=parseInt(t.get("numDisks"));ge(Ye).includes(a)?n.props.setNumDisks(a):n.setState({error:!0})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.error;return o.a.createElement("div",{className:e.root},o.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},o.a.createElement(I.a,{name:"numDisks",label:"Number of Disks",helperText:"Enter a number up to ".concat(Ye),autoFocus:!0,error:t}),o.a.createElement("br",null),o.a.createElement(f.a,{className:e.submit,color:"primary",type:"submit"},"Go")))}}]),t}(o.a.Component),qe=Object(h.a)({root:{marginTop:30},submit:{marginTop:10}})(Ve),Xe=ue,Ke=me,$e=he,Qe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,initializing:!0,numDisks:null},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.addEventListener("touchmove",(function(e){e.scale>1&&e.preventDefault()}),{passive:!1}),window.addEventListener("resize",(function(t){var n=t.target;return e.setState({windowWidth:n.innerWidth,windowHeight:n.innerHeight})}))}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=n.windowWidth,i=n.windowHeight,r=n.initializing,s=n.numDisks,c=a/3,l=s?s*Xe:0,u=i-Ke-$e-l;return o.a.createElement("div",null,o.a.createElement("div",{style:{width:a,height:Ke}},o.a.createElement("div",{className:t.console},r?o.a.createElement(qe,{setNumDisks:function(t){return e.setState({initializing:!1,numDisks:t})}}):o.a.createElement(Je,{numDisks:s,windowWidth:a,windowHeight:i,restart:function(){return e.setState({initializing:!0,numDisks:null})}}))),o.a.createElement("div",{style:{width:a,height:u}}),o.a.createElement("div",{className:t.columns},o.a.createElement("div",{style:{width:c,height:l,borderRight:"5px solid #cde4ef"}}),o.a.createElement("div",{style:{width:c,height:l,borderRight:"5px solid #cde4ef"}}),o.a.createElement("div",{style:{width:c,height:l}})),o.a.createElement("div",{style:{width:a,height:$e,background:"#cde4ef"}}))}}]),t}(o.a.Component),Ze=Object(h.a)({console:{position:"absolute",left:0,right:0,textAlign:"center"},columns:{position:"relative",display:"flex",userSelect:"none"}})(Qe),et=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function tt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(o.a.createElement(Ze,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/tower-of-hanoi",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/tower-of-hanoi","/service-worker.js");et?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):tt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):tt(t,e)}))}}()},23:function(e){e.exports=JSON.parse('{"high_score_api_endpoint":"https://towerofhanoi-c927.restdb.io/rest/high-scores","high_score_api_key":"5e8e7efd111788414066c840","like_api_endpoint":"https://towerofhanoi-d363.restdb.io/rest/likes","like_api_key":"5e97c133436377171a0c243e","form_endpoint":"https://formspree.io/mbjaozdw","captcha_sitekey":"6LcGsucUAAAAAKJMt8JzxkfFSx5eYX-m7bFEFUMr"}')}},[[118,1,2]]]);
//# sourceMappingURL=main.794cb20c.chunk.js.map