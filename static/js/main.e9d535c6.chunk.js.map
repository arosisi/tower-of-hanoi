{"version":3,"sources":["constants.js","helpers.js","components/Disk.js","components/Controller.js","components/Initializer.js","App.js","serviceWorker.js","index.js"],"names":["constants","get1ToN","n","result","i","push","getLast","array","length","getUpToSecondLast","slice","getMeasurements","size","BASE_WIDTH","BASE_HEIGHT","multiplier","Math","ceil","Disk","props","active","xy","move","color","divWidth","width","height","useSpring","x","y","setPosition","useEffect","useState","zIndex","setZIndex","myRef","React","useRef","bind","useGesture","onDrag","event","preventDefault","onDragEnd","moveTo","domTarget","eventOptions","passive","div","ref","style","position","borderRadius","background","cursor","display","justifyContent","alignSelf","DISK_COLORS","Controller","state","gameOver","col1","numDisks","reverse","col2","col3","isGameOver","getIsActive","getPosition","halfDivWidth","windowWidth","diskWidth","includes","getY","col","windowHeight","colNum","fromCol","toCol","newFromCol","newToCol","newCol1","newCol2","newCol3","setState","this","restart","top","left","right","Button","onClick","map","key","Component","maxNumDisks","Initializer","error","handleSubmit","data","FormData","target","parseInt","get","setNumDisks","marginTop","onSubmit","noValidate","autoComplete","TextField","name","label","helperText","autoFocus","DIV_COLORS","App","window","innerWidth","innerHeight","initializing","addEventListener","divHeight","userSelect","textAlign","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.e9d535c6.chunk.js","sourcesContent":["export const constants = {\r\n  BASE_WIDTH: 60,\r\n  BASE_HEIGHT: 20,\r\n  DIV_COLORS: [\r\n    \"rgb(215, 169, 227, 0.4)\",\r\n    \"rgb(139, 190, 232, 0.4)\",\r\n    \"rgb(168, 213, 186, 0.4)\"\r\n  ],\r\n  DISK_COLORS: [\r\n    // 12 colors, referenced from\r\n    // https://venngage.com/blog/how-to-pick-colors/\r\n    \"#fef200\",\r\n    \"#9bca3b\",\r\n    \"#27b252\",\r\n    \"#0db0a1\",\r\n    \"#3654a7\",\r\n    \"#493a98\",\r\n    \"#92278f\",\r\n    \"#92296d\",\r\n    \"#ed1923\",\r\n    \"#ef4224\",\r\n    \"#f36522\",\r\n    \"#f89f1a\"\r\n  ],\r\n  GAME_OVER_MSGS: [\r\n    // World's top 20 languages, referenced from\r\n    // https://www.mentalfloss.com/article/67766/worlds-top-20-languages-and-words-english-has-borrowed-them\r\n    \"游戏结束!\", // Chinese\r\n    \"¡Juego terminado!\", // Spanish\r\n    \"Game over!\",\r\n    \"खेल खत्म!\", // Hindi\r\n    \"انتهت اللعبة!\", // Arabic\r\n    \"Fim de jogo!\", // Portuguese\r\n    \"খেলা শেষ!\", // Bangla\r\n    \"Игра закончена!\", // Russian\r\n    \"ゲームオーバー！\", // Japanese\r\n    \"ਖੇਲ ਖਤਮ!\", // Punjabi\r\n    \"Game liwat!\", // Javanese\r\n    \"Spiel ist aus!\", // German\r\n    \"게임 끝!\", // Korean\r\n    \"Jeu terminé!\", // French\r\n    \"ఆట సమాప్తం!\", // Telugu\r\n    \"खेळ संपला!\", // Marathi\r\n    \"Oyun bitti!\", // Turkish\r\n    \"விளையாட்டு முடிவு அடைந்தது!\", // Tamil\r\n    \"Trò chơi kết thúc!\", // Vietnamese\r\n    \"کھیل ختم!\" // Urdu\r\n  ]\r\n};\r\n","import { constants } from \"./constants\";\r\n\r\nexport const get1ToN = n => {\r\n  const result = [];\r\n  for (let i = 1; i <= n; i++) {\r\n    result.push(i);\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const getLast = array => array[array.length - 1];\r\n\r\nexport const getUpToSecondLast = array => array.slice(0, array.length - 1);\r\n\r\nexport const getMeasurements = size => {\r\n  const { BASE_WIDTH, BASE_HEIGHT } = constants;\r\n  const multiplier = size * 0.4 + 0.6;\r\n  return [Math.ceil(BASE_WIDTH * multiplier), BASE_HEIGHT];\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport { useGesture } from \"react-use-gesture\";\r\n\r\nimport { getMeasurements } from \"../helpers\";\r\n\r\nfunction Disk(props) {\r\n  const { active, xy, move, size, color, divWidth } = props;\r\n  const [width, height] = getMeasurements(size);\r\n\r\n  // spring to smoothen drag\r\n  const [{ x, y }, setPosition] = useSpring(() => ({ x: xy[0], y: xy[1] }));\r\n\r\n  // move disks on screen resize\r\n  useEffect(() => {\r\n    setPosition({ x: props.xy[0], y: props.xy[1] });\r\n  }, [setPosition, props.xy]);\r\n\r\n  // z-index to put moving disk in front\r\n  const [zIndex, setZIndex] = useState(1);\r\n\r\n  const myRef = React.useRef(null);\r\n\r\n  const bind = useGesture(\r\n    {\r\n      onDrag: ({ event, xy: [x, y] }) => {\r\n        event.preventDefault();\r\n        if (active) {\r\n          setPosition({ x: x - width / 2, y: y - height / 2 });\r\n          setZIndex(99);\r\n        }\r\n      },\r\n      onDragEnd: ({ event, xy: [x, y] }) => {\r\n        event.preventDefault();\r\n        if (active) {\r\n          const colNum = x <= divWidth ? 1 : x <= 2 * divWidth ? 2 : 3;\r\n          const moveTo = move(colNum, size);\r\n          setPosition({ x: moveTo[0], y: moveTo[1] });\r\n          setZIndex(1);\r\n        }\r\n      }\r\n    },\r\n    {\r\n      domTarget: myRef,\r\n      eventOptions: { passive: false }\r\n    }\r\n  );\r\n\r\n  React.useEffect(bind, [bind]);\r\n\r\n  return (\r\n    <animated.div\r\n      ref={myRef}\r\n      {...bind()}\r\n      style={{\r\n        position: \"absolute\",\r\n        x,\r\n        y,\r\n        zIndex,\r\n        width,\r\n        height,\r\n        borderRadius: \"20px\",\r\n        background: color,\r\n        cursor: active ? \"grab\" : \"default\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\"\r\n      }}\r\n    >\r\n      <span style={{ alignSelf: \"center\" }}>{size}</span>\r\n    </animated.div>\r\n  );\r\n}\r\n\r\nexport default Disk;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Confetti from \"react-confetti\";\r\n\r\nimport Disk from \"./Disk\";\r\nimport {\r\n  get1ToN,\r\n  getLast,\r\n  getUpToSecondLast,\r\n  getMeasurements\r\n} from \"../helpers\";\r\nimport { constants } from \"../constants\";\r\n\r\nconst { DISK_COLORS } = constants;\r\n\r\nclass Controller extends React.Component {\r\n  state = {\r\n    gameOver: false,\r\n    col1: get1ToN(this.props.numDisks).reverse(),\r\n    col2: [],\r\n    col3: []\r\n  };\r\n\r\n  isGameOver = (col2, col3) => {\r\n    const { numDisks } = this.props;\r\n    return col2.length === numDisks || col3.length === numDisks;\r\n  };\r\n\r\n  getIsActive = size => {\r\n    const { gameOver, col1, col2, col3 } = this.state;\r\n    return (\r\n      !gameOver &&\r\n      (getLast(col1) === size ||\r\n        getLast(col2) === size ||\r\n        getLast(col3) === size)\r\n    );\r\n  };\r\n\r\n  getPosition = (col1, col2, col3, size) => {\r\n    const { windowWidth } = this.props;\r\n    const halfDivWidth = windowWidth / 6;\r\n    const diskWidth = getMeasurements(size)[0];\r\n    if (col1.includes(size)) {\r\n      const x = halfDivWidth - diskWidth / 2;\r\n      const y = this.getY(col1, size);\r\n      return [x, y];\r\n    }\r\n\r\n    if (col2.includes(size)) {\r\n      const x = halfDivWidth * 3 - diskWidth / 2;\r\n      const y = this.getY(col2, size);\r\n      return [x, y];\r\n    }\r\n\r\n    const x = halfDivWidth * 5 - diskWidth / 2;\r\n    const y = this.getY(col3, size);\r\n    return [x, y];\r\n  };\r\n\r\n  getY = (col, size) => {\r\n    const { windowHeight } = this.props;\r\n    const divHeight = windowHeight - 150;\r\n    const diskHeight = getMeasurements(size)[1];\r\n    let y = divHeight - diskHeight;\r\n    let i = 0;\r\n    while (col[i] !== size) {\r\n      y -= getMeasurements(col[i])[1];\r\n      i++;\r\n    }\r\n    return y;\r\n  };\r\n\r\n  move = (colNum, size) => {\r\n    const { col1, col2, col3 } = this.state;\r\n    // prettier-ignore\r\n    const fromCol = col1.includes(size) ? col1 : col2.includes(size) ? col2 : col3;\r\n    const toCol = colNum === 1 ? col1 : colNum === 2 ? col2 : col3;\r\n\r\n    if (fromCol === toCol || size > getLast(toCol)) {\r\n      return this.getPosition(col1, col2, col3, size);\r\n    }\r\n\r\n    const newFromCol = getUpToSecondLast(fromCol);\r\n    const newToCol = [...toCol, size];\r\n\r\n    // prettier-ignore\r\n    const newCol1 = col1 === fromCol ? newFromCol : col1 === toCol ? newToCol : col1\r\n    // prettier-ignore\r\n    const newCol2 = col2 === fromCol ? newFromCol : col2 === toCol ? newToCol : col2\r\n    // prettier-ignore\r\n    const newCol3 = col3 === fromCol ? newFromCol : col3 === toCol ? newToCol : col3\r\n\r\n    this.setState({\r\n      gameOver: this.isGameOver(newCol2, newCol3),\r\n      col1: newCol1,\r\n      col2: newCol2,\r\n      col3: newCol3\r\n    });\r\n    return this.getPosition(newCol1, newCol2, newCol3, size);\r\n  };\r\n\r\n  render() {\r\n    const { numDisks, windowWidth, windowHeight, restart } = this.props;\r\n    const { gameOver, col1, col2, col3 } = this.state;\r\n    const divWidth = windowWidth / 3;\r\n    return (\r\n      <div>\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 30,\r\n            left: 0,\r\n            right: 0,\r\n            display: \"flex\",\r\n            justifyContent: \"center\"\r\n          }}\r\n        >\r\n          {/* <Button color='primary' onClick={restart}>\r\n            Solve\r\n          </Button> */}\r\n          <Button color='secondary' onClick={restart}>\r\n            Restart\r\n          </Button>\r\n        </div>\r\n\r\n        {gameOver && <Confetti width={windowWidth} height={windowHeight} />}\r\n\r\n        {get1ToN(numDisks).map(size => (\r\n          <Disk\r\n            key={size}\r\n            active={this.getIsActive(size)}\r\n            xy={this.getPosition(col1, col2, col3, size)}\r\n            move={this.move}\r\n            size={size}\r\n            color={DISK_COLORS[size - 1]}\r\n            divWidth={divWidth}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Controller;\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport { get1ToN } from \"../helpers\";\r\nimport { constants } from \"../constants\";\r\n\r\nconst { DISK_COLORS } = constants;\r\nconst maxNumDisks = DISK_COLORS.length;\r\n\r\nclass Initializer extends React.Component {\r\n  state = { error: false };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.target);\r\n    const numDisks = parseInt(data.get(\"numDisks\"));\r\n    if (get1ToN(maxNumDisks).includes(numDisks)) {\r\n      this.props.setNumDisks(numDisks);\r\n    } else {\r\n      this.setState({ error: true });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { error } = this.state;\r\n    return (\r\n      <div style={{ marginTop: 30 }}>\r\n        <form onSubmit={this.handleSubmit} noValidate autoComplete='off'>\r\n          <TextField\r\n            name='numDisks'\r\n            label='Number of Disks'\r\n            helperText={`Enter a number up to ${maxNumDisks}`}\r\n            autoFocus={true}\r\n            error={error}\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Initializer;\r\n","import React from \"react\";\r\n\r\nimport Controller from \"./components/Controller\";\r\nimport Initializer from \"./components/Initializer\";\r\nimport { constants } from \"./constants\";\r\n\r\nconst { DIV_COLORS } = constants;\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    windowWidth: window.innerWidth,\r\n    windowHeight: window.innerHeight,\r\n    initializing: true,\r\n    numDisks: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"resize\", ({ target }) =>\r\n      this.setState({\r\n        windowWidth: target.innerWidth,\r\n        windowHeight: target.innerHeight\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { windowWidth, windowHeight, initializing, numDisks } = this.state;\r\n    const divWidth = windowWidth / 3;\r\n    const divHeight = windowHeight - 150;\r\n    return (\r\n      <div>\r\n        <div\r\n          style={{ position: \"relative\", display: \"flex\", userSelect: \"none\" }}\r\n        >\r\n          <div\r\n            style={{\r\n              width: divWidth,\r\n              height: divHeight,\r\n              background: DIV_COLORS[0]\r\n            }}\r\n          />\r\n          <div\r\n            style={{\r\n              width: divWidth,\r\n              height: divHeight,\r\n              background: DIV_COLORS[1]\r\n            }}\r\n          />\r\n          <div\r\n            style={{\r\n              width: divWidth,\r\n              height: divHeight,\r\n              background: DIV_COLORS[2]\r\n            }}\r\n          />\r\n\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              left: 0,\r\n              right: 0,\r\n              textAlign: \"center\"\r\n            }}\r\n          >\r\n            {initializing ? (\r\n              <Initializer\r\n                setNumDisks={numDisks =>\r\n                  this.setState({ initializing: false, numDisks })\r\n                }\r\n              />\r\n            ) : (\r\n              <Controller\r\n                numDisks={numDisks}\r\n                windowWidth={windowWidth}\r\n                windowHeight={windowHeight}\r\n                restart={() => this.setState({ initializing: true })}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            width: windowWidth,\r\n            height: 150,\r\n            background: \"gainsboro\"\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}